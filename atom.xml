<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å° man</title>
  <icon>https://www.gravatar.com/avatar/f27b936c2ac428d82177b6d3626c8e3a</icon>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://xiaoman.ren/"/>
  <updated>2019-06-23T14:34:03.441Z</updated>
  <id>http://xiaoman.ren/</id>
  
  <author>
    <name>å° man</name>
    <email>zhuangbudong@gmail.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>æ¸…é¦™æœ¨å…»æ®–ï¼ˆä¸‰ï¼‰</title>
    <link href="http://xiaoman.ren/2019/06/23/%E6%B8%85%E9%A6%99%E6%9C%A8%E5%85%BB%E6%AE%96%EF%BC%88%E4%B8%89%EF%BC%89/"/>
    <id>http://xiaoman.ren/2019/06/23/æ¸…é¦™æœ¨å…»æ®–ï¼ˆä¸‰ï¼‰/</id>
    <published>2019-06-23T11:49:19.000Z</published>
    <updated>2019-06-23T14:34:03.441Z</updated>
    
    <content type="html"><![CDATA[<p>è·ç¦»ä¸Šä¸€æ¬¡æ›´æ–°å·²ç»è¿‡å»ä¸€ä¸ªåŠæœˆäº†ï¼Œè¯·ä¸è¦æ‹…å¿ƒï¼Œä»–è¿˜åœ¨ï¼<br>ä½œä¸ºç»¿æ¤å°ç™½ï¼ŒçœŸçœŸåˆ‡åˆ‡çš„ä½“éªŒå…»æ®–çš„å¿«ä¹ã€ä¸æƒŠå¿ƒåŠ¨é­„çš„æ—¶å€™ï¼Œæ˜¯ä¸ä¼šæƒ³èµ·æ¥è¦è®°å½•åšå®¢çš„ã€‚</p><p>è¿™æ¬¡å†™è¿™ç¯‡æ–‡ç« çš„ç›®çš„ï¼Œä¾ç„¶è¿˜æ˜¯è¦è®°å½•ä¸€ä¸‹å®ƒçš„æˆé•¿ï¼Œé­é‡ï¼Œä»¥åŠä¸€äº›å…»æ®–è¿‡ç¨‹ä¸­çš„ç»éªŒã€‚å¥½å•¦ï¼Œå¤©ä¹Ÿä¸æ—©äº†ï¼Œå’±ä¹Ÿå¾—å¼„ç‚¹å¹²è´§äº†ã€‚</p><p>ç»¿æ¤å°ç™½ï¼Œåœ¨ä¸Šæ‰‹æ¸…é¦™æœ¨åï¼ŒæŸ¥è¯¢åˆ°çš„ä¸€äº›å…»æ®–çš„ç†è®ºçŸ¥è¯†ï¼Œåœ¨è¿™ä¸€ä¸ªåŠæœˆçš„æ—¶é—´é‡Œå¾—åˆ°äº†å¾ˆä¸¥å³»çš„æŒ‘æˆ˜ã€‚ç»§ä¸Šæ¬¡ä¸ºå®ƒæ›¿æ¢äº†æ–°å®¶ä¹‹åï¼Œå®ƒå°±ä¸åœ¨æ˜¯ä»å‰çš„é‚£ä¸ªå¯çˆ±çš„å­©å­äº†ï¼Œæ·˜æ°”çš„ç‹ ï¼›ç°åœ¨é€ çš„ï¼ˆä¸œåŒ—è¯ï¼Œæœ¬äººä¸œåŒ—æ»´ï¼Œæ„æ€æ˜¯å°†è‡ªå·±çš„èº«ä½“ï¼Œå¤–è¡¨ï¼Œæˆ–å…¶ä»–å¼„å¾—ç ´è´¥ä¸å ªï¼‰è¿˜èƒ½å¯çœ‹å‡ºç‚¹æ¨¡æ ·æ¥ã€‚</p><p>è¿™æ®µæ—¶é—´ï¼Œå®ƒç»å†çš„æ‰å¶ã€æ¯é»„ã€æ—±æ¶ã€‚å“ˆå“ˆï¼Œä½ ä»¬æœ‰æ²¡æœ‰æ„Ÿè§‰åˆ°ä»–å¾ˆå¯æ€œã€‚ä½†ä¸è®ºæ€æ ·ï¼Œä»–ç°åœ¨æ­£åœ¨èŒå£®çš„æˆé•¿ä¸­ï¼Œå·²ç»é€ƒç¦»äº†æ³•æµ·ã€‚</p><p>ç°åœ¨çš„å®ƒï¼Œè™½ç„¶å·²ç»æ²¡æœ‰äº†æŒ¡ä½çš„æç¹å¶èŒ‚ï¼Œä½†ä¹Ÿæ²¡æœ‰åƒæˆ‘è¿™æ²¡ç¨‹åºå‘˜ä¸€æ ·ï¼Œå¯¸è‰ä¸ç”Ÿã€‚é‚£æˆ‘ä»¬å°±æ¥ä¸‹æ¥å°±è¿˜æ˜¯è¯´è¯´å®ƒçš„å…»æ®–æ³¨æ„äº‹é¡¹å§ï¼š</p><a id="more"></a><ul><li>æ‰å¶</li></ul><p>æ‰å¶æ˜¯æ­£å¸¸ç°è±¡ï¼Œåœ¨ç»¿æ¤æ›´æ–°æ–°çš„ç¯å¢ƒï¼Œç§»æ¤åˆ°æ–°çš„ç›†ä¸­æ—¶ï¼Œéƒ½ä¼šå› éœ€è¦å¯¹æ–°ç¯å¢ƒçš„é€‚åº”å„¿æ‰å¶ï¼Œè¿‡å‡ å¤©ä¹‹åå°±å¥½äº†ï¼Œæ›´æ¢æ–°ç›†åï¼Œå°†æ°´æµ‡é€ï¼Œé™æ­¢å‡ å¤©ï¼ˆè¶…è¿‡æ­£å¸¸æµ‡æ°´å‘¨æœŸï¼‰ï¼Œä½†ä¹Ÿè¦è€ƒè™‘çªç„¶çš„è“„æ°´èƒ½åŠ›ä»¥åŠåœŸå£¤çš„æ½®æ¹¿ç¨‹åº¦ã€‚</p><ul><li>é»„å¶</li></ul><p>é»„å¶ä¸€èˆ¬æ˜¯å‘ç”Ÿåœ¨æ°´åˆ†è¿‡å¤§ï¼Œå¯¼è‡´æ ¹éƒ¨è…çƒ‚æ—¶ä¼šå‘ç”Ÿï¼Œå› æ­¤æˆ‘åœ¨æµ‡æ°´æ—¶ï¼Œè¦å…³æ³¨ä¸€ä¸‹çªç„¶ä¸­æ°´åˆ†çš„å«é‡ï¼Œé€‚é‡ä¸”æœ‰è§„å¾‹çš„æµ‡æ°´ï¼Œå¯¹ç»¿æ¤çš„å‘è‚²æ˜¯æœ‰å¥½å¤„çš„ã€‚</p><ul><li>åœŸå£¤</li></ul><p>èµ·åˆæˆ‘çš„æµ‡æ°´é¢‘ç‡æ˜¯ 3-5 å¤©æµ‡ä¸€æ¬¡ï¼Œä½†æˆ‘å‘ç°ä»–ç»å¸¸æ²¡æœ‰ç²¾ç¥ï¼Œè”«è”«çš„ï¼Œæ¯æ¬¡æµ‡æ°´æ—¶ï¼Œè§‚å¯ŸåœŸå£¤éƒ½å·²ç»è¦å¹²é€äº†ï¼Œç„¶åæˆ‘å°±æ”¹ä¸º 2-3 å¤©æµ‡æ°´ä¸€æ¬¡ï¼Œæ…¢æ…¢çš„ä»–æ¯”ä»¥å‰æ›´åŠ æ²¹ç»¿ï¼Œç²¾ç¥é¢è²Œæ›´åŠ æŒºæ‹”ã€‚ç”±æ­¤å‘¢ï¼Œæ€»ç»“ä¸‹æ¥åœŸå£¤è“„æ°´èƒ½åŠ›å¯¹æ¤ç‰©çš„ç”Ÿé•¿æˆæ­£æ¯”å…³ç³»ï¼Œæ‰€ä»¥é€‰æ‹©å¥½çš„åœŸå£¤ï¼Œæ›´æœ‰åŠ©äºå®ƒçš„ç”Ÿé•¿ã€‚ç›®å‰å®ƒçš„åœŸå£¤è¿˜æ˜¯è‡ªä»ä»–æ¥åˆ°æˆ‘è¿™é‡Œå•†å®¶é€çš„ï¼ŒåœŸå£¤å¾ˆç¨€æ¾ï¼Œæ‚è´¨æ¯”è¾ƒå¤šï¼Œè“„æ°´èƒ½åŠ›ä¹Ÿä¸€èˆ¬ï¼Œç­‰åˆ°ä»–åœ¨æ‰“ä¸€ç‚¹ï¼Œä¸ºä»–æ¢ä¸€ä¸ªæ–°å®¶çš„æ—¶å€™ï¼Œä¼šè€ƒè™‘ç»™ä»–æ¢ä¸€ä¸ªåœŸå£¤ã€‚æ¯•ç«Ÿå¤§è‡ªç„¶çš„åŠ›é‡æ˜¯å¾ˆåºå¤§çš„ï¼Œä¹Ÿè®¸é‚£æ—¶ä»–ä¼šæˆé•¿ä¸ºå‚å¤©å¤§æ ‘å§ã€‚</p><p><strong>æ€»ç»“</strong></p><p>æ€»ä¹‹ï¼Œè€è¯è®²â€æœ‰å¿—è€…äº‹ç«Ÿæˆâ€œï¼Œåªè¦ç”¨äº†çœŸå¿ƒï¼Œå°±ä¸€å®šä¼šæœ‰æ”¶è·ï¼›ä¸è®ºæ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼Œæˆ‘ä»¬éƒ½è¦å°†ä»–çœ‹åšæ˜¯æˆ‘ä»¬æˆåŠŸè·¯ä¸Šçš„ç»éªŒï¼Œä¸éª„ä¸é¦ã€‚</p><p>ä¹ æƒ¯æ˜¯å…»æˆçš„ï¼Œå°±åƒå®ƒä¸€æ ·ï¼Œè™½ç„¶å®ƒåœ¨é‚£é‡Œï¼Œä¹Ÿä¸ä¼šåŒæˆ‘è®²è¯ï¼Œä¹Ÿä¸ä¼šåŒæˆ‘äº’åŠ¨ï¼Œå°±é‚£æ ·é™é™çš„çœ‹ç€æˆ‘ï¼Œè€Œå“ªä¸€å¤©çœ‹ä¸è§å®ƒçš„æ—¶å€™ï¼Œæˆ‘ä¹Ÿä¼šå¾ˆæƒ³å®ƒï¼Œæœ‰æ—¶ä¹Ÿä¸åè‡ªå·±çš„ç›®å…‰ï¼Œå¤šçœ‹å‡ çœ¼ï¼Œåªå¸Œæœ›å®ƒèƒ½å¤Ÿæ‹™é•¿æˆé•¿ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è·ç¦»ä¸Šä¸€æ¬¡æ›´æ–°å·²ç»è¿‡å»ä¸€ä¸ªåŠæœˆäº†ï¼Œè¯·ä¸è¦æ‹…å¿ƒï¼Œä»–è¿˜åœ¨ï¼&lt;br&gt;ä½œä¸ºç»¿æ¤å°ç™½ï¼ŒçœŸçœŸåˆ‡åˆ‡çš„ä½“éªŒå…»æ®–çš„å¿«ä¹ã€ä¸æƒŠå¿ƒåŠ¨é­„çš„æ—¶å€™ï¼Œæ˜¯ä¸ä¼šæƒ³èµ·æ¥è¦è®°å½•åšå®¢çš„ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ¬¡å†™è¿™ç¯‡æ–‡ç« çš„ç›®çš„ï¼Œä¾ç„¶è¿˜æ˜¯è¦è®°å½•ä¸€ä¸‹å®ƒçš„æˆé•¿ï¼Œé­é‡ï¼Œä»¥åŠä¸€äº›å…»æ®–è¿‡ç¨‹ä¸­çš„ç»éªŒã€‚å¥½å•¦ï¼Œå¤©ä¹Ÿä¸æ—©äº†ï¼Œå’±ä¹Ÿå¾—å¼„ç‚¹å¹²è´§äº†ã€‚&lt;/p&gt;
&lt;p&gt;ç»¿æ¤å°ç™½ï¼Œåœ¨ä¸Šæ‰‹æ¸…é¦™æœ¨åï¼ŒæŸ¥è¯¢åˆ°çš„ä¸€äº›å…»æ®–çš„ç†è®ºçŸ¥è¯†ï¼Œåœ¨è¿™ä¸€ä¸ªåŠæœˆçš„æ—¶é—´é‡Œå¾—åˆ°äº†å¾ˆä¸¥å³»çš„æŒ‘æˆ˜ã€‚ç»§ä¸Šæ¬¡ä¸ºå®ƒæ›¿æ¢äº†æ–°å®¶ä¹‹åï¼Œå®ƒå°±ä¸åœ¨æ˜¯ä»å‰çš„é‚£ä¸ªå¯çˆ±çš„å­©å­äº†ï¼Œæ·˜æ°”çš„ç‹ ï¼›ç°åœ¨é€ çš„ï¼ˆä¸œåŒ—è¯ï¼Œæœ¬äººä¸œåŒ—æ»´ï¼Œæ„æ€æ˜¯å°†è‡ªå·±çš„èº«ä½“ï¼Œå¤–è¡¨ï¼Œæˆ–å…¶ä»–å¼„å¾—ç ´è´¥ä¸å ªï¼‰è¿˜èƒ½å¯çœ‹å‡ºç‚¹æ¨¡æ ·æ¥ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ®µæ—¶é—´ï¼Œå®ƒç»å†çš„æ‰å¶ã€æ¯é»„ã€æ—±æ¶ã€‚å“ˆå“ˆï¼Œä½ ä»¬æœ‰æ²¡æœ‰æ„Ÿè§‰åˆ°ä»–å¾ˆå¯æ€œã€‚ä½†ä¸è®ºæ€æ ·ï¼Œä»–ç°åœ¨æ­£åœ¨èŒå£®çš„æˆé•¿ä¸­ï¼Œå·²ç»é€ƒç¦»äº†æ³•æµ·ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨çš„å®ƒï¼Œè™½ç„¶å·²ç»æ²¡æœ‰äº†æŒ¡ä½çš„æç¹å¶èŒ‚ï¼Œä½†ä¹Ÿæ²¡æœ‰åƒæˆ‘è¿™æ²¡ç¨‹åºå‘˜ä¸€æ ·ï¼Œå¯¸è‰ä¸ç”Ÿã€‚é‚£æˆ‘ä»¬å°±æ¥ä¸‹æ¥å°±è¿˜æ˜¯è¯´è¯´å®ƒçš„å…»æ®–æ³¨æ„äº‹é¡¹å§ï¼š&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç»¿æ¤" scheme="http://xiaoman.ren/tags/%E7%BB%BF%E6%A4%8D/"/>
    
  </entry>
  
  <entry>
    <title>æ¸…é¦™æœ¨å…»æ®–ï¼ˆäºŒï¼‰</title>
    <link href="http://xiaoman.ren/2019/05/08/%E6%B8%85%E9%A6%99%E6%9C%A8%E5%85%BB%E6%AE%96%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
    <id>http://xiaoman.ren/2019/05/08/æ¸…é¦™æœ¨å…»æ®–ï¼ˆäºŒï¼‰/</id>
    <published>2019-05-08T03:02:23.000Z</published>
    <updated>2019-06-23T14:33:59.120Z</updated>
    
    <content type="html"><![CDATA[<p>å¿ƒå¿ƒåˆ‡åˆ‡,æ¯å¤©éƒ½ä¼šå…³æ³¨å®ƒçš„å˜åŒ–,å¯æƒœå¿ƒæ€¥åƒä¸å¾—çƒ­è±†è…;ç»è¿‡äº†å‡ å¤©, å‘ç°å®ƒæœ‰ä¸€äº›æ¯å¶å’Œå¹²æ,ä½ æ˜¯åœ¨å‘æˆ‘å®£æˆ˜å—?????ä¸Šç½‘æŸ¥è¯¢äº†ä¸€ä¸‹å‘ç°å…¶å®æ˜¯æ¤ç‰©åœ¨æ›´æ¢äº†ç¯å¢ƒä¹‹å,éœ€è¦ä¸€æ®µæ—¶é—´çš„é€‚åº”,æ¯å¶å¹²æå±äºæ­£å¸¸ç°è±¡, å“ˆå“ˆå“ˆ,è¿˜å¥½ä½ ä¸æ˜¯å«Œå¼ƒæˆ‘çš„å°å±‹.</p><p>è®°å¾—é«˜ä¸­é‚£ä¼š,æ¯å¤©éƒ½åœ¨ä¹¦æœ¬çš„æµ·æ´‹é‡Œé£˜è¡,ç”Ÿç‰©å­¦è‡ªåœ¨å…¶ä¸­,å˜´è¾¹ä¹Ÿæ€»æ˜¯åœ¨èƒŒè¯µç€æ¤ç‰©çš„â€å…‰åˆä½œç”¨â€,â€å‘¼å¸ä½œç”¨â€,è¿™äº›çŸ¥è¯†æ—©å·²æ·±æ·±é“­è®°åœ¨å¿ƒä¸­,åˆ»å°åœ¨è„‘æµ·,æŒ¥ä¹‹ä¸å».</p><p>æ¤ç‰©ç™½å¤©è¿›è¡Œå…‰åˆä½œç”¨,å¸æ”¶äºŒæ°§åŒ–ç¢³,é‡Šæ”¾æ°§æ°”;å¤œæ™šå‘¼å¸ä½œç”¨å¸æ”¶æ°§æ°”,é‡Šæ”¾äºŒæ°§åŒ–ç¢³.è¿™äº›çŸ¥è¯†è®©æˆ‘è®¤è¯†äº†ä¸–ç•Œ,ç„¶è€Œå¹¶æ²¡æœ‰è®©æˆ‘è®¤è¯†ä»–.èµ·åˆè¿˜æ˜¯å‚»ä¹ä¹çš„æ¯å¤©å‡ºé—¨ä¸Šç­æ—¶,æŠŠèŠ±æ”¾åœ¨çª—å°ä¸Š,æ‰“å¼€çª—å­,è®©ä»–æ²æµ´é˜³å…‰,æ¥å—æ´—ç¤¼;å¯æœ€è¿‘åœ¨æµè§ˆä¸€äº›ç½‘ç«™æ—¶,æ³¨æ„åˆ°ä¸€å¥è¯è®©æˆ‘å›°æƒ‘ä¸å·²â€”-â€œç»™äºˆæ¤ç‰©å……è¶³çš„å…‰ç…§,å¯ä»¥æ”¾åœ¨é˜³å°ä¸Š,ä½†è¦é¿å…å¤ªé˜³å…‰ç›´å°„â€. æˆ‘æ‡µäº†,æˆ‘çœŸçš„æ‡µäº†, æ—¢ç„¶éƒ½é€‰æ‹©æ”¾åœ¨çª—å°ä¸Š,éš¾é“çª—å°ä¸Šçš„é˜³å…³å°±ä¸æ˜¯å¤ªé˜³ç›´å°„äº†å˜›????? æˆ‘å¾ˆå›°æƒ‘, çˆ±ç¢ç£¨çš„æˆ‘åœ¨æƒ³, çª—å°ä¸Šæœ‰ç»ç’ƒ,Uhâ€¦ éš¾é“æ˜¯éš”ç€ä¸€å±‚ç»ç’ƒå°±ä¸ç®—ç›´å°„äº†å—,, å“, è¿™ä¸ªé—®é¢˜,åˆ°ç°åœ¨æˆ‘ä¹Ÿæ²¡æœ‰æƒ³æ¸…æ¥š.åœ¨ç»è¿‡ä¸æ–­çš„æŸ¥è¯¢æˆ‘å‘ç°å…¶å®æ¤ç‰©è¿›è¡Œå…‰åˆä½œç”¨å¹¶ä¸æ˜¯ä¹‹å¯ä»¥æœ‰å¤ªé˜³å…‰æ‰å¯ä»¥.</p><a id="more"></a><p>æ¤ç‰©è¿›è¡Œå…‰åˆä½œç”¨,å¶ç»¿ä½“æ˜¯ä¸»è¦åŠŸè‡£,é«˜ç­‰æ¤ç‰©çš„å…‰åˆè‰²ç´ ä¸»è¦æœ‰å¶ç»¿ç´ å’Œç±»èƒ¡èåœç´ ,åœ¨é¢œè‰²ä¸Šå¶ç»¿ç´ (å¶ç»¿ç´ a å’Œå¶ç»¿è‰² b) ä¸»è¦å‘ˆç»¿è‰², ç±»èƒ¡èåœç´ (èƒ¡èåœç´ å’Œå¶é»„ç´ ) å‘ˆé»„è‰².å¶ç»¿ç´ å¸æ”¶å…‰çš„èƒ½åŠ›æå¼º,è€Œå¯¹æ¤ç‰©å…‰åˆä½œç”¨èµ·åˆ°ä½œç”¨çš„æ˜¯æ³¢é•¿åœ¨ 640 ~ 670 nm çš„çº¢å…‰éƒ¨åˆ†å’Œæ³¢é•¿åœ¨ 430 ~ 450 çš„è“ç´«å…‰éƒ¨åˆ†;å› ä¸ºå¤ªé˜³å…‰ä¸æ˜¯å•ä¸€çš„å…‰,åˆ°è¾¾åœ°è¡¨åæ³¢é•¿åœ¨ 300nm ~ 2600 nm, åªæœ‰æ³¢é•¿åœ¨ 390 ~ 770 nmä¸ºå¯è§å…‰(ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„çº¢æ©™é»„ç»¿é’è“ç´«,åŠå…¶æ··åˆè‰²),è‡ªç„¶å¤ªé˜³å…‰æ˜¯å¯ä»¥æ»¡è¶³æ¤ç‰©è¿›è¡Œå…‰åˆä½œç”¨çš„,åŒæ—¶,æˆ‘ä»¬æ—¥å¸¸çš„ç…§æ˜ç¯ä¾‹å¦‚:ç™½ç‚½ç¯,è§å…‰ç¯,LED ç¯,ä»–ä»¬ä¹Ÿå¯æ»¡è¶³æ¤ç‰©è¿›è¡Œå…‰åˆä½œç”¨,ä½†ä»–ä»¬çš„æ³¢é•¿ä¸èƒ½æ»¡è¶³æ¤ç‰©å…‰åˆä½œç”¨çš„æ‰€æœ‰æ³¢é•¿é€‰æ‹©, åªèƒ½æ˜¯å•ä¸€, æ¯”å¦‚åªæ»¡è¶³çº¢å…‰æˆ–è“ç´«å…‰.ä½¿ç”¨ç…§æ˜ç¯è¿›è¡Œå…‰ç…§,åªä¼šå¯¼è‡´æ¤ç‰©ç¼ºå°‘ä¸€äº›å…ƒç´ ;æ·˜å®ä¸Šä¹Ÿæœ‰ä¸“é—¨ä¹°æ¤ç‰©å…‰åˆä½œç”¨éœ€è¦çš„çº¢å…‰å’Œè“å…‰çš„ç¯,ä½†æ€æ ·éƒ½ä¸å¦‚æ¤ç‰©åœ¨å¤–é¢æ™’å‡ å°æ—¶,å¤§è‡ªç„¶å°±æ˜¯è¿™ä¹ˆç¥å¥‡.</p><p>æ˜¨å¤©ä¸ºæˆ‘çš„å°å¿ƒå¿µç§»æ¤äº†æ–°å±…,å› ä¸ºåˆšåˆšæ”¶åˆ°ä»–æ—¶,ä»–çš„å®¶æœ‰ç‚¹ç ´è´¥,ç´¢æ€§å°±ä¸ºä»–æ¢ä¸ªè±ªå®….å…ˆç”¨å°é“²é“²æ¾ä»–çš„æ ¹åŸº(ä¸è¦è´´ç€ä»–,ä¸ç„¶ä¼šä¼¤å®³åˆ°å“¦),è¦ä¸è¦ç”¨åŠ›å»æ‹”,ä¼¤åˆ°æ ¹éƒ¨,å°±å†ä¹Ÿæ•‘ä¸æ´»äº†.æ…¢æ…¢çš„,è¦ç»†å¿ƒ,å¾…æ•´ä½“éƒ½å¾ˆæ¾åŠ¨,èƒ½å¤Ÿè¿æ ¹å¸¦åœŸçš„,ä¸€èµ·ä»ç›†ä¸­å¸¦å‡º,åœ¨æ–°å®¶å…ˆç»™ä»–æŒ–å¥½å®¹èº«ä¹‹æ‰€,ç”¨æ‰‹æ‹–ä½ä»–,ç»†å¿ƒçš„æ”¾åœ¨æ–°å®¶å¤„,å¹¶åŸ‹å¥½,ç„¶åå°‘é‡çš„ç»™äºˆä¸€äº›æ°´åˆ†, è®©ä»–çš„å®¶æ ¹åŸºæ›´å¤¯å®,ä¸è¦è¿‡åº¦æµ‡æ°´,ä½†ä¹Ÿè¦æµ‡å¤´,ä¿æŒåœŸå£¤æ¾å¼›,è¿™æ ·æ°§æ°”æ‰èƒ½è¿›å…¥åˆ°åœŸå£¤,è®©æ ¹éƒ¨èƒ½å¤Ÿå……åˆ†çš„è¿›è¡Œå‘¼å¸ä½œç”¨.ä¸€ç›´æ–°å®¶å,å°å¿ƒå¿µå±äºè„†å¼±çš„æ—¶å€™,è¿™æ—¶ä¸è¦è®©ä»–åœ¨é˜³å…‰ä¸‹æš´æ™’,ä¸åˆ©äºæ ¹éƒ¨åœ¨æ–°å®¶è½æ ¹.</p><p>æ–°å®¶å·²ç»å®‰æ’å¦¥å½“,ä¹‹åå°±æ˜¯ç”¨å¿ƒå»è§‚å¯Ÿä»–çš„å˜åŒ–,ä¿æŒé€šé£,å’Œå…‰ç…§,ä»–æ‰ä¼šèŒå£®æˆé•¿.</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¿ƒå¿ƒåˆ‡åˆ‡,æ¯å¤©éƒ½ä¼šå…³æ³¨å®ƒçš„å˜åŒ–,å¯æƒœå¿ƒæ€¥åƒä¸å¾—çƒ­è±†è…;ç»è¿‡äº†å‡ å¤©, å‘ç°å®ƒæœ‰ä¸€äº›æ¯å¶å’Œå¹²æ,ä½ æ˜¯åœ¨å‘æˆ‘å®£æˆ˜å—?????ä¸Šç½‘æŸ¥è¯¢äº†ä¸€ä¸‹å‘ç°å…¶å®æ˜¯æ¤ç‰©åœ¨æ›´æ¢äº†ç¯å¢ƒä¹‹å,éœ€è¦ä¸€æ®µæ—¶é—´çš„é€‚åº”,æ¯å¶å¹²æå±äºæ­£å¸¸ç°è±¡, å“ˆå“ˆå“ˆ,è¿˜å¥½ä½ ä¸æ˜¯å«Œå¼ƒæˆ‘çš„å°å±‹.&lt;/p&gt;
&lt;p&gt;è®°å¾—é«˜ä¸­é‚£ä¼š,æ¯å¤©éƒ½åœ¨ä¹¦æœ¬çš„æµ·æ´‹é‡Œé£˜è¡,ç”Ÿç‰©å­¦è‡ªåœ¨å…¶ä¸­,å˜´è¾¹ä¹Ÿæ€»æ˜¯åœ¨èƒŒè¯µç€æ¤ç‰©çš„â€å…‰åˆä½œç”¨â€,â€å‘¼å¸ä½œç”¨â€,è¿™äº›çŸ¥è¯†æ—©å·²æ·±æ·±é“­è®°åœ¨å¿ƒä¸­,åˆ»å°åœ¨è„‘æµ·,æŒ¥ä¹‹ä¸å».&lt;/p&gt;
&lt;p&gt;æ¤ç‰©ç™½å¤©è¿›è¡Œå…‰åˆä½œç”¨,å¸æ”¶äºŒæ°§åŒ–ç¢³,é‡Šæ”¾æ°§æ°”;å¤œæ™šå‘¼å¸ä½œç”¨å¸æ”¶æ°§æ°”,é‡Šæ”¾äºŒæ°§åŒ–ç¢³.è¿™äº›çŸ¥è¯†è®©æˆ‘è®¤è¯†äº†ä¸–ç•Œ,ç„¶è€Œå¹¶æ²¡æœ‰è®©æˆ‘è®¤è¯†ä»–.èµ·åˆè¿˜æ˜¯å‚»ä¹ä¹çš„æ¯å¤©å‡ºé—¨ä¸Šç­æ—¶,æŠŠèŠ±æ”¾åœ¨çª—å°ä¸Š,æ‰“å¼€çª—å­,è®©ä»–æ²æµ´é˜³å…‰,æ¥å—æ´—ç¤¼;å¯æœ€è¿‘åœ¨æµè§ˆä¸€äº›ç½‘ç«™æ—¶,æ³¨æ„åˆ°ä¸€å¥è¯è®©æˆ‘å›°æƒ‘ä¸å·²â€”-â€œç»™äºˆæ¤ç‰©å……è¶³çš„å…‰ç…§,å¯ä»¥æ”¾åœ¨é˜³å°ä¸Š,ä½†è¦é¿å…å¤ªé˜³å…‰ç›´å°„â€. æˆ‘æ‡µäº†,æˆ‘çœŸçš„æ‡µäº†, æ—¢ç„¶éƒ½é€‰æ‹©æ”¾åœ¨çª—å°ä¸Š,éš¾é“çª—å°ä¸Šçš„é˜³å…³å°±ä¸æ˜¯å¤ªé˜³ç›´å°„äº†å˜›????? æˆ‘å¾ˆå›°æƒ‘, çˆ±ç¢ç£¨çš„æˆ‘åœ¨æƒ³, çª—å°ä¸Šæœ‰ç»ç’ƒ,Uhâ€¦ éš¾é“æ˜¯éš”ç€ä¸€å±‚ç»ç’ƒå°±ä¸ç®—ç›´å°„äº†å—,, å“, è¿™ä¸ªé—®é¢˜,åˆ°ç°åœ¨æˆ‘ä¹Ÿæ²¡æœ‰æƒ³æ¸…æ¥š.åœ¨ç»è¿‡ä¸æ–­çš„æŸ¥è¯¢æˆ‘å‘ç°å…¶å®æ¤ç‰©è¿›è¡Œå…‰åˆä½œç”¨å¹¶ä¸æ˜¯ä¹‹å¯ä»¥æœ‰å¤ªé˜³å…‰æ‰å¯ä»¥.&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç»¿æ¤" scheme="http://xiaoman.ren/tags/%E7%BB%BF%E6%A4%8D/"/>
    
  </entry>
  
  <entry>
    <title>æ¸…é¦™æœ¨å…»æ®–ï¼ˆä¸€ï¼‰</title>
    <link href="http://xiaoman.ren/2019/05/04/%E6%B8%85%E9%A6%99%E6%9C%A8%E5%85%BB%E6%AE%96%EF%BC%88%E4%B8%80%EF%BC%89/"/>
    <id>http://xiaoman.ren/2019/05/04/æ¸…é¦™æœ¨å…»æ®–ï¼ˆä¸€ï¼‰/</id>
    <published>2019-05-04T13:54:08.000Z</published>
    <updated>2019-05-04T14:52:51.314Z</updated>
    
    <content type="html"><![CDATA[<p>æ¿€åŠ¨çš„å¿ƒï¼Œé¢¤æŠ–çš„æ‰‹ï¼Œäº¬ä¸œä¸Šé¢åŠ¨åŠ¨æ‰‹ã€‚<br>å“ˆå“ˆï¼Œå¾ˆä¹…å°±æœ‰æƒ³å…»ä¸€ä¸ªç»¿æ¤çš„æƒ³æ³•ï¼Œç»è¿‡äº†åŠå¹´çš„æŒ£æ‰ï¼Œç»ˆäºåœ¨ 3 å¤©å‰åŠ¨èµ·äº†æ‰‹ï¼Œå…¥æ‰‹ä¸€æ ª<strong>æ¸…é¦™æœ¨</strong>ï¼Œæ®è€æ¿è¯´ï¼Œæ¸…é¦™æœ¨å¯ä»¥æ•£å‘å‡ºé¦™å‘³ï¼Œå……æ»¡æ•´ä¸ªæˆ¿é—´ï¼Œé¦™æ°”å››æº¢ï¼ˆè¿˜æœªé‰´å®šï¼Œåˆšæ”¶åˆ°ï¼Œæ­£æ€€ç€æ¿€åŠ¨çš„å¿ƒåœ¨å†™ï¼‰ã€‚</p><p><img src="https://raw.githubusercontent.com/boywithsmalleyes/static_file/master/images/WechatIMG68.jpeg" alt="æ¸…é¦™æœ¨"></p><p>å…¶å®å¯¹è¿™ææœ‰ä¸€ç‚¹å°å¤±æœ›ï¼Œå°±æ˜¯ä¸ªå¤´å¤ªå°ï¼Œä¸è¿‡æ²¡å…³ç³»ï¼Œå’±ä¿©ç†¬å‘—ï¼Œæ—©æ™šä½ ä¼šé•¿å¤§çš„ã€‚<br><a id="more"></a></p><p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæˆ‘æ˜¯ä¸€åªç¨‹åºç‹—ï¼Œè¿™ç§å¼ é£ç»£èŠ±çš„äº‹å„¿ï¼Œç€å®è®©æˆ‘å¤´ç–¼äº†ä¸€ç•ªï¼›å¹³æ—¥é‡Œååœ¨ç”µè„‘å‰ï¼Œå™¼é‡Œå•ªå•¦çš„æ•²ç€é”®ç›˜ï¼Œä¹¦å†™ç€ä¸€è¡Œè¡Œ ABCï¼ˆçªç„¶æƒ³èµ·ä¸€é¦–æ­Œã€Šéƒ½é€‰ Cã€‹ï¼‰ï¼Œå¾œå¾‰åœ¨ç¼–ç çš„ä¸–ç•Œé‡Œã€‚å¿½ç„¶ä¹‹é—´ï¼Œç”Ÿæ´»ä¸­å¤šäº†ä¸€æ ªç»¿æ¤ï¼Œè®©é‚£ä»½éšè—åœ¨æˆ‘èº«ä½“æŸå¤„å¤šå¹´çš„å°çˆ±å¿ƒåˆå¦‚é›¨åæ˜¥ç¬‹ä¸€èˆ¬ï¼ŒèŒå‘äº†èµ·æ¥ã€‚å¯æ˜¯å•Šï¼Œåœ¨ç¼–ç çš„ä¸–ç•Œé‡Œï¼Œæˆ‘å¯ä»¥è£…è£…æ ·å­ï¼Œä½†åœ¨ ta çš„ä¸–ç•Œé‡Œï¼Œæˆ‘åªèƒ½è£…å­™å­ã€‚</p><p>è‡ªæ­¤ä¹‹åï¼Œæˆ‘å°†è¸ä¸Šç»¿æ¤çš„å…»æŠ¤ä¹‹é“ï¼Œåƒé‡Œä¹‹è¡Œå§‹äºè¶³ä¸‹ï¼Œå°±è¯·ä½ æŠŠæˆ‘å¸¦å…¥åˆ°ä½ çš„ä¸–ç•Œé‡Œï¼Œæ·±å…¥çš„äº†è§£å¹¶çˆ±ä¸Šä½ å§ã€‚</p><p>OKï¼Œè¯´æ­£äº‹å„¿ï¼Œå…ˆæ¥ä»‹ç»ä¸€ä¸‹<strong>æ¸…é¦™æœ¨</strong>ï¼š</p><p>æ¸…é¦™æœ¨éå¸¸æ”¶åˆ°èŠ±å‹çš„å–œçˆ±ï¼Œæ˜¯ä¸€ç§éå¸¸ç†æƒ³çš„ç›†æ ½æ¤ç‰©ï¼Œç›†æ™¯æ¸…é¦™æœ¨æ‘†æ”¾åœ¨å®¤å†…ï¼Œèƒ½è¥é€ å‡ºä¸€ç§é‡å¤–å±±æ°´æ ‘æœ¨ç§»å…¥å®¶å†…çš„æ„Ÿè§‰ï¼Œè‡ªç„¶æ¸…æ–°ã€‚åŸæœ¬ç”Ÿé•¿æˆ‘å›½çš„äº‘è„‘ä¸­éƒ¨ã€åŒ—éƒ¨åŠå››å·å—éƒ¨ç­‰é«˜æµ·æ‹”çš„å¹²çƒ­æ²³è°·åœ°å¸¦ï¼Œå…·æœ‰è€é˜´æ€§ï¼Œå–œå¥½æš–ï¼Œç”Ÿé•¿ç¼“æ…¢ï¼Œå¯¿å‘½é•¿ç­‰ç‰¹ç‚¹ï¼ˆè¿™ä¹Ÿä¼šæˆ‘é€‰æ‹©æ · ta çš„åŸå› ï¼‰ã€‚</p><p>è¿™é‡Œæœ‰ä¸€ä¸ªå…»èŠ±çš„ APPï¼Œ<a href="https://itunes.apple.com/cn/app/%E5%85%BB%E8%8A%B1%E5%A4%A7%E5%85%A8-%E5%85%BB%E8%8A%B1%E4%BA%BA%E7%9A%84%E5%9C%88%E5%AD%90/id1245612230?mt=8" target="_blank" rel="noopener">å…»èŠ±å¤§å…¨</a>ï¼Œæˆ‘å°±æ˜¯åœ¨è¿™ä¸Šå­¦ä¹ å…»èŠ±çš„æŠ€æœ¯åŠæ³¨æ„äº‹é¡¹çš„ã€‚</p><p>è™½ç„¶æˆ‘å¹¶æ²¡æœ‰ç»ç†è¿‡ ta çš„å‡ºç”Ÿï¼Œä½†åé¢çš„è·¯æˆ‘æƒ³å’Œä½ ä¸€èµ·ã€‚ä¸ºä½ æ•´ç†å‘å‹ï¼ˆä¿®å‰ªæå¶ï¼‰ã€ä¸ºä½ å®‰å®¶ä¹ä¸šï¼ˆä¸Šç›†å®šå‹ï¼‰ï¼Œå‘µæŠ¤ä½ ï¼ˆåœŸå£¤å’Œæ°´åˆ†ï¼‰ï¼Œä¸€è·¯å‰è¡Œï¼ˆå…‰ç…§å’Œæ¸©åº¦ï¼‰ã€‚</p><p>è™½ç„¶ APP ä¸Šä»‹ç»äº†<strong>æ¸…é¦™æœ¨</strong>ä¸€äº›å–œå¥½ï¼Œä¹Ÿæä¾›äº†ä¸€äº›å…»æ®–æ–¹æ³•ï¼Œä½†èº«åœ¨é—¨å¤–æ±‰çš„æˆ‘è¿˜æ˜¯å¯¹ç»¿æ¤ç•Œçš„æœ¯è¯­æ„Ÿåˆ°å¤´ç–¼ï¼Œä¸‹é¢æ¥ä»‹ç»ä¸€ä¸‹</p><table><thead><tr><th>æœ¯è¯­</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>è§å¹²è§æ¹¿</td><td>è§å¹²ï¼šåœŸå£¤å¹²æ¶¸ï¼Œè¡¨é¢çœ‹ä¸åˆ°æ½®æ¹¿ã€‚ è§æ¹¿ï¼šæµ‡æ°´æ—¶ï¼Œçœ‹åœŸå£¤å…¨éƒ¨æµ¸æ¹¿ã€‚</td></tr><tr><td>æµ‡æ°´è¦æµ‡é€</td><td>æµ‡æ°´æ—¶ï¼Œè§åˆ°æ°´ä»åº•éƒ¨å­”æµå‡º</td></tr></tbody></table><p>è¿™ä¸ªè¡¨æ ¼æ˜¯æˆ‘åœ¨çœ‹æ¸…é¦™æœ¨å…»æ®–äº‹é¡¹æ—¶é‡åˆ°çš„é—®é¢˜ï¼Œä»¥åä¼šç»§ç»­æ›´æ–°ã€‚<br>è™½ç„¶è¿™ä¸ªæœ¯è¯­åˆšåˆ°çœ‹çš„æ—¶å€™ï¼Œä¸€è„¸æ‡µã€‚æˆ‘ä¹Ÿè¯·æ•™äº†æˆ‘çš„åŒäº‹å…³äºå…»æŠ¤çš„é—®é¢˜ï¼Œä»–ä¹Ÿç»†å¿ƒçš„è§£é‡Šäº†ï¼Œè€Œä¸”è¿˜ç‰¹åˆ«ç…§é¡¾æˆ‘è¿™ä¸ªå°ç™½ï¼Œç”¨å¾ˆç”ŸåŠ¨çš„æ¯”å–»è®©æˆ‘ç†è§£é€äº†è¿™äº›å±äºã€‚</p><p>é‚£ä¹ˆè¿™é‡Œæˆ‘åœ¨è¯¦ç»†çš„è¯´ä¸€ä¸‹æˆ‘çš„ç†è§£ï¼š</p><ul><li>è§å¹²è§æ¹¿ï¼šè¦è§£é‡Šçš„å’Œä¸Šé¢çš„å«ä¹‰ä¸€æ ·ï¼Œé‚£ä¹ˆæˆ‘è¿˜è¦è¡¥å……çš„éƒ¨åˆ†å°±æ˜¯ï¼ŒåœŸå£¤æ˜¯è‡ªä¸Šè€Œä¸‹å¹²çš„ï¼Œ å› æ­¤è¡¨é¢ä¸Šè™½ç„¶å¹²äº†ï¼Œä½†æ˜¯åœŸå£¤å†…éƒ¨å…¶å®è¿˜æ²¡æœ‰å¹²ï¼Œå°¤å…¶æ˜¯åœŸå£¤åº•éƒ¨ï¼ˆæ¤ç‰©çš„æ ¹éƒ¨ï¼‰ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥é€šè¿‡å‘åœŸå£¤ä¸­æ’å…¥ä¸€æ ¹æœ¨æ£ï¼ˆè¦æ’åˆ°åº•å„¿å“¦ğŸ˜ï¼‰ï¼Œä¸“é—¨ç”¨æ¥æ£€æµ‹åœŸå£¤æ¹¿åº¦ï¼Œæ‹”å‡ºæ—¶è®°ä½æœ¨æ£è£¸éœ²åœ¨åœŸå£¤å¤–é¢çš„ä½ç½®ï¼Œæ‹”å‡ºåç”¨æ½®æ¹¿çš„éƒ¨ä½å»è®¡ç®—ä½ç½®ã€‚ä¿æŒæ ¹éƒ¨çš„æ¹¿æ¶¦ï¼Œå¯ä»¥ä¿ƒè¿›æ¤ç‰©æ ¹ç³»çš„å‘å±•ï¼Œå› æ­¤ä¸éœ€è¦ç»å¸¸ç»™æ¤ç‰©æµ‡æ°´ã€‚è§æ¹¿ä¹Ÿå°±æ˜¯æµ‡æ°´æ—¶ï¼Œä¿è¯åœŸå£¤æ¹¿æ¶¦å³å¯ã€‚</li><li>æµ‡æ°´è¦æµ‡é€ï¼šå½“æˆ‘çœ‹åˆ°æ—¶æˆ‘ä¹Ÿå’Œçº³é—·ä»€ä¹ˆæ„æ€ï¼Œè€Œä¸”å’Œä¸Šé¢çš„è§æ¹¿ä¼¼ä¹åˆå†²çªï¼Œåˆ°åº•æ˜¯è§åˆ°åœŸå£¤æ¹¿äº†å°±å¯ä»¥ï¼Œè¿˜æ˜¯è¦æµ‡é€ï¼Ÿé‚£ä»€ä¹ˆåˆæ˜¯æµ‡é€å‘¢ï¼Ÿç»è¿‡æˆ‘çš„è°ƒç ”å’Œå’¨è¯¢ï¼Œç»ˆäºå¼„æ˜ç™½ï¼Œè¿™äº›æƒ…å†µæ˜¯å’ŒåœŸå£¤çš„æˆåˆ†æœ‰å…³ç³»ï¼Œå› ä¸ºåœŸå£¤çš„é€æ°”æ€§ã€ä¿æ°´æ€§éƒ½å¯¹æ¤ç‰©å‘è‚²æœ‰å¾ˆå¤§å½±å“ï¼Œä¸€æ—¦æœ‰é—®é¢˜ï¼Œå¾ˆå¯èƒ½å¯¼è‡´å¶å­å‘é»„ï¼Œè„±è½ï¼Œç”šè‡³æ­»äº¡ã€‚Emmm  æˆ‘ä»¬è¯´æµ‡é€çš„äº‹å„¿ï¼ŒèŠ±ç›†åº•éƒ¨æ˜¯æœ‰ä¸€ä¸ªå°å£çš„ï¼ˆä¸å…»èŠ±æ ¹éƒ¨ä¸æ‡‚äº‹å¹²å˜›çš„ï¼Œå°æ—¶å€™å¸®å¦ˆå¦ˆæµ‡èŠ±ï¼Œæ°´ä»é‚£æ¼å‡ºæ¥ï¼Œè¿˜ä»¥ä¸ºæµªè´¹äº†å‘¢ï¼‰ã€‚å› ä¸ºåœŸå£¤æˆåˆ†ä¸åŒï¼Œå¸æ°´ã€è“„æ°´èƒ½åŠ›ä¹Ÿä¸åŒï¼Œå…·ä½“åœŸå£¤æˆåˆ†å…ˆä¸ä»‹ç»ï¼Œç®€å•è¯´ä¸‹åŸç†â€”å¯ä»¥å…ˆæµ‡ä¸€éå¿«æ°´ï¼Œå°±æ˜¯å°†æ°´åˆ†å‡åŒ€çš„æ´’åœ¨åœŸå£¤çš„è¡¨é¢ï¼Œä¸è¦ç•™å¹²ï¼Œéƒ½æµ¸æ¹¿ï¼Œè§ç›†åœ°æœ‰æ°´åˆ†æµå‡ºå³å¯ï¼Œç­‰åˆ° 10 åˆ†é’Ÿä¹‹åï¼Œåœ¨è¿›è¡Œä¸€æ¬¡æµ‡æ°´ï¼ŒåŒæ ·æ˜¯å‡åŒ€çš„æµ‡ï¼Œå¹¶åº•éƒ¨æœ‰æ°´æµå‡ºå³å¯ã€‚è¿™æ ·å°±å¯ä»¥ä¿è¯æµ‡é€äº†ã€‚</li></ul><blockquote><p>å°ç™½åœ¨è¿™çŒ®ä¸‘äº†ï¼Œåç»­ä¼šæŒç»­æ›´æ–°</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ¿€åŠ¨çš„å¿ƒï¼Œé¢¤æŠ–çš„æ‰‹ï¼Œäº¬ä¸œä¸Šé¢åŠ¨åŠ¨æ‰‹ã€‚&lt;br&gt;å“ˆå“ˆï¼Œå¾ˆä¹…å°±æœ‰æƒ³å…»ä¸€ä¸ªç»¿æ¤çš„æƒ³æ³•ï¼Œç»è¿‡äº†åŠå¹´çš„æŒ£æ‰ï¼Œç»ˆäºåœ¨ 3 å¤©å‰åŠ¨èµ·äº†æ‰‹ï¼Œå…¥æ‰‹ä¸€æ ª&lt;strong&gt;æ¸…é¦™æœ¨&lt;/strong&gt;ï¼Œæ®è€æ¿è¯´ï¼Œæ¸…é¦™æœ¨å¯ä»¥æ•£å‘å‡ºé¦™å‘³ï¼Œå……æ»¡æ•´ä¸ªæˆ¿é—´ï¼Œé¦™æ°”å››æº¢ï¼ˆè¿˜æœªé‰´å®šï¼Œåˆšæ”¶åˆ°ï¼Œæ­£æ€€ç€æ¿€åŠ¨çš„å¿ƒåœ¨å†™ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/boywithsmalleyes/static_file/master/images/WechatIMG68.jpeg&quot; alt=&quot;æ¸…é¦™æœ¨&quot;&gt;&lt;/p&gt;
&lt;p&gt;å…¶å®å¯¹è¿™ææœ‰ä¸€ç‚¹å°å¤±æœ›ï¼Œå°±æ˜¯ä¸ªå¤´å¤ªå°ï¼Œä¸è¿‡æ²¡å…³ç³»ï¼Œå’±ä¿©ç†¬å‘—ï¼Œæ—©æ™šä½ ä¼šé•¿å¤§çš„ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="ç»¿æ¤" scheme="http://xiaoman.ren/tags/%E7%BB%BF%E6%A4%8D/"/>
    
  </entry>
  
  <entry>
    <title>OkHttp Intercept</title>
    <link href="http://xiaoman.ren/2019/04/30/OkHttp-Intercept/"/>
    <id>http://xiaoman.ren/2019/04/30/OkHttp-Intercept/</id>
    <published>2019-04-30T12:42:02.000Z</published>
    <updated>2019-05-09T15:10:49.055Z</updated>
    
    <content type="html"><![CDATA[<h1 id="OkHttp-Interceptor"><a href="#OkHttp-Interceptor" class="headerlink" title="OkHttp Interceptor"></a>OkHttp Interceptor</h1><p>OKHttp åœ¨å¼€å‘ä¸­ç»å¸¸ç”¨åˆ°,è¿™é‡Œä»‹ç»ä¸€ä¸‹ OKHttp çš„æ‹¦æˆªå™¨(interceptor)çš„å‡ ä¸ªä½¿ç”¨ä¾‹å­</p><p>è¦æ˜¯ç”¨æ‹¦æˆªå™¨å¾ˆç®€å•,æˆ‘ä»¬åªéœ€è¦è‡ªå®šä¹‰ä¸€ä¸ª interceptor ç±», å¹¶å®ç° Interceptor æ¥å£, åŒæ—¶é‡å†™ intercept æ–¹æ³•.</p><p>è¿™é‡Œä»‹ç»ä¸¤ç§ Interceptor çš„å®ä¾‹</p><h2 id="Log-æ—¥å¿—-LogInterceptor"><a href="#Log-æ—¥å¿—-LogInterceptor" class="headerlink" title="Log æ—¥å¿— (LogInterceptor)"></a>Log æ—¥å¿— (LogInterceptor)</h2><p>Log åœ¨å¼€å‘è°ƒè¯•ä¸­çš„é‡è¦æ€§, ä¸è¨€è€Œå–», ä¸€ä¸ªå¥½çš„æ—¥å¿—æ•°æ®,èƒ½å¤Ÿä¸ºå¼€å‘æ—¶æä¾›å¾ˆå¤šå¸®åŠ©,å¯ä»¥é€šè¿‡ Log æ¥è·å–å½“å‰ç¨‹åºçš„æ‰§è¡ŒçŠ¶æ€, é¡ºåºç­‰ç­‰.</p><a id="more"></a><p>è¿™é‡Œä»‹ç»çš„ Log æ—¥å¿—æ‹¦æˆªå™¨,ä¸»è¦æ˜¯è´Ÿè´£åœ¨ç½‘ç»œè¯·æ±‚æ—¶,æˆªè·è¯·æ±‚ä¸­çš„ä¿¡æ¯,å¹¶å°†è¯·æ±‚ä¿¡æ¯ä»¥ Log çš„æ–¹å¼è¾“å‡ºåˆ°æ§åˆ¶å°ä¸Š,å¯å±•ç°å½“å‰è¯·æ±‚åœ°å€,è¯·æ±‚å‚æ•°,ä»¥åŠè¯·æ±‚ç»“æœç­‰.</p><p>è¯ä¸å¤šè¯´, ä¸Šä»£ç .</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* è‡ªå®šä¹‰ log æ‹¦æˆªå™¨,è¾“å…¥è¯·æ±‚åœ°å€,è¯·æ±‚å‚,è¯·æ±‚ç»“æœ</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LogInterceptor</span> <span class="keyword">implements</span> <span class="title">Interceptor</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Response <span class="title">intercept</span><span class="params">(Chain chain)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">            <span class="comment">// æ‹¦æˆªè¯·æ±‚ä¿¡æ¯,è·å–è¯·æ±‚åœ°å€åŠè¯·æ±‚å‚æ•°</span></span><br><span class="line">            Request request = chain.request();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">long</span> t1 = System.nanoTime();</span><br><span class="line">            <span class="comment">// è·å–è¯·æ±‚æ–¹å¼</span></span><br><span class="line">            String method = request.method();</span><br><span class="line">            <span class="keyword">if</span> (<span class="string">"POST"</span>.equals(method)) &#123;</span><br><span class="line">                StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">                <span class="keyword">if</span> (request.body() <span class="keyword">instanceof</span> FormBody) &#123;</span><br><span class="line">                    FormBody body = (FormBody) request.body();</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; body.size(); i++) &#123;</span><br><span class="line">                        sb.append(body.encodedName(i) + <span class="string">"="</span> + body.encodedValue(i) + <span class="string">","</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    sb.delete(sb.length() - <span class="number">1</span>, sb.length());</span><br><span class="line">                    LogUtils.d(TAG, String.format(<span class="string">"Sending request %s on %s %n%s %nRequestParams:&#123;%s&#125;"</span>,</span><br><span class="line">                            request.url(), chain.connection(), request.headers(), sb.toString()));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                LogUtils.d(TAG, String.format(<span class="string">"Sending request %s on %s %n%s"</span>,</span><br><span class="line">                        request.url(), chain.connection(), request.headers()));</span><br><span class="line">            &#125;</span><br><span class="line"><span class="comment">// è·å–å“åº”ä¿¡æ¯</span></span><br><span class="line">            Response response = chain.proceed(request);</span><br><span class="line">            <span class="keyword">long</span> t2 = System.nanoTime();</span><br><span class="line">            LogUtils.d(TAG, String.format(<span class="string">"Received response for %s in %.1fms%n%s"</span>,</span><br><span class="line">                    response.request().url(), (t2 - t1) / <span class="number">1e6</span>d, response.headers()));</span><br><span class="line"></span><br><span class="line">            MediaType contentType = response.body().contentType();</span><br><span class="line">            String content = response.body().string();</span><br><span class="line">            LogUtils.d(TAG, content);</span><br><span class="line">            ResponseBody wrappedBody = ResponseBody.create(contentType, content);</span><br><span class="line">            <span class="keyword">return</span> response.newBuilder().body(wrappedBody).build();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="åŠ å‚"><a href="#åŠ å‚" class="headerlink" title="åŠ å‚"></a>åŠ å‚</h2><p>åŠ å‚çš„æ„ä¹‰åœ¨äº,åœ¨è¯·æ±‚è¿‡ç¨‹ä¸­, éœ€è¦ä¼ é€’ä¸€äº›åŸºæœ¬å‚æ•°,è¿™äº›å‚æ•°æ˜¯åŸºæœ¬ä¿æŒä¸å˜çš„, è€Œè¿™äº›å‚æ•°åˆæ˜¯åå°éœ€è¦æ ¡éªŒçš„ä¾é ,æˆ‘ä»¬ä¿—ç§°ä»–ä»¬ä¸º<strong>å…¬å‚</strong>, å¦‚æœåœ¨è¯·æ±‚è¿‡ç¨‹ä¸­åœ¨æ¯ä¸€ä¸ªæ¥å£é‡Œé¢éƒ½å»æ·»åŠ è¿™äº›å‚æ•°,æ˜¾å¾—éå¸¸ç¹ç,è€Œä¸”éº»çƒ¦,åç»­äººå‘˜æ¥æ‰‹,åˆä¼šä¸çŸ¥æ‰€æª,ç»´æŠ¤èµ·æ¥ç›¸å½“ä¸æ–¹ä¾¿.</p><p>å› æ­¤,åœ¨è¿™é‡Œæˆ‘ä»¬è¿˜æ˜¯é€šè¿‡è¯·æ±‚æ‹¦æˆªå™¨,é€šè¿‡æ‹¦æˆªå™¨å»æ·»åŠ è¿™äº›å‚æ•°.</p><h3 id="å…¬å‚æ‹¦æˆªå™¨"><a href="#å…¬å‚æ‹¦æˆªå™¨" class="headerlink" title="å…¬å‚æ‹¦æˆªå™¨"></a>å…¬å‚æ‹¦æˆªå™¨</h3><p>åœ¨è¯·æ±‚ä¸­,å¢åŠ ä¸€äº›å…¬å…±çš„å‚æ•°.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CommonParamsInterceptor</span> <span class="keyword">implements</span> <span class="title">Interceptor</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, String&gt; queryParamsMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, String&gt; paramsMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, String&gt; headerParamsMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; headerLinesList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Response <span class="title">intercept</span><span class="params">(Chain chain)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        Request request = chain.request();</span><br><span class="line">        Request.Builder requestBuilder = request.newBuilder();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// process header params inject</span></span><br><span class="line">        Headers.Builder headerBuilder = request.headers().newBuilder();</span><br><span class="line">        <span class="keyword">if</span> (headerParamsMap.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            Iterator iterator = headerParamsMap.entrySet().iterator();</span><br><span class="line">            <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">                Map.Entry entry = (Map.Entry) iterator.next();</span><br><span class="line">                headerBuilder.add((String) entry.getKey(), (String) entry.getValue());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (headerLinesList.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (String line : headerLinesList) &#123;</span><br><span class="line">                headerBuilder.add(line);</span><br><span class="line">            &#125;</span><br><span class="line">            requestBuilder.headers(headerBuilder.build());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// process header params end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// process queryParams inject whatever it's GET or POST</span></span><br><span class="line">        <span class="keyword">if</span> (queryParamsMap.size() &gt; <span class="number">0</span> &amp;&amp; <span class="string">"GET"</span>.equals(request.method())) &#123;</span><br><span class="line"><span class="comment">//        if (queryParamsMap.size() &gt; 0) &#123;</span></span><br><span class="line">            request = injectParamsIntoUrl(request, requestBuilder, queryParamsMap);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// process post body inject</span></span><br><span class="line">        <span class="keyword">if</span> (paramsMap != <span class="keyword">null</span> &amp;&amp; paramsMap.size() &gt; <span class="number">0</span> &amp;&amp; <span class="string">"POST"</span>.equals(request.method())) &#123;</span><br><span class="line">            <span class="keyword">if</span> (request.body() <span class="keyword">instanceof</span> FormBody) &#123;</span><br><span class="line">                FormBody.Builder newFormBodyBuilder = <span class="keyword">new</span> FormBody.Builder();</span><br><span class="line">                <span class="keyword">if</span> (paramsMap.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    Iterator iterator = paramsMap.entrySet().iterator();</span><br><span class="line">                    <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">                        Map.Entry entry = (Map.Entry) iterator.next();</span><br><span class="line">                        newFormBodyBuilder.add((String) entry.getKey(), (String) entry.getValue());</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                FormBody oldFormBody = (FormBody) request.body();</span><br><span class="line">                <span class="keyword">int</span> paramSize = oldFormBody.size();</span><br><span class="line">                <span class="keyword">if</span> (paramSize &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; paramSize; i++) &#123;</span><br><span class="line">                        newFormBodyBuilder.add(oldFormBody.name(i), oldFormBody.value(i));</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                requestBuilder.post(newFormBodyBuilder.build());</span><br><span class="line">                request = requestBuilder.build();</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (request.body() <span class="keyword">instanceof</span> MultipartBody) &#123;</span><br><span class="line">                MultipartBody.Builder multipartBuilder = <span class="keyword">new</span> MultipartBody.Builder().setType(MultipartBody.FORM);</span><br><span class="line"></span><br><span class="line">                Iterator iterator = paramsMap.entrySet().iterator();</span><br><span class="line">                <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">                    Map.Entry entry = (Map.Entry) iterator.next();</span><br><span class="line">                    multipartBuilder.addFormDataPart((String) entry.getKey(), (String) entry.getValue());</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                List&lt;MultipartBody.Part&gt; oldParts = ((MultipartBody) request.body()).parts();</span><br><span class="line">                <span class="keyword">if</span> (oldParts != <span class="keyword">null</span> &amp;&amp; oldParts.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (MultipartBody.Part part : oldParts) &#123;</span><br><span class="line">                        multipartBuilder.addPart(part);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                requestBuilder.post(multipartBuilder.build());</span><br><span class="line">                request = requestBuilder.build();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> chain.proceed(request);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">canInjectIntoBody</span><span class="params">(Request request)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (request == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!TextUtils.equals(request.method(), <span class="string">"POST"</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        RequestBody body = request.body();</span><br><span class="line">        <span class="keyword">if</span> (body == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        MediaType mediaType = body.contentType();</span><br><span class="line">        <span class="keyword">if</span> (mediaType == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!TextUtils.equals(mediaType.subtype(), <span class="string">"x-www-form-urlencoded"</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// func to inject params into url</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Request <span class="title">injectParamsIntoUrl</span><span class="params">(Request request, Request.Builder requestBuilder, Map&lt;String, String&gt; paramsMap)</span> </span>&#123;</span><br><span class="line">        HttpUrl.Builder httpUrlBuilder = request.url().newBuilder();</span><br><span class="line">        <span class="keyword">if</span> (paramsMap.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            Iterator iterator = paramsMap.entrySet().iterator();</span><br><span class="line">            <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">                Map.Entry entry = (Map.Entry) iterator.next();</span><br><span class="line">                httpUrlBuilder.addEncodedQueryParameter((String) entry.getKey(), (String) entry.getValue());</span><br><span class="line">            &#125;</span><br><span class="line">            requestBuilder.url(httpUrlBuilder.build());</span><br><span class="line">            <span class="keyword">return</span> requestBuilder.build();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> request;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">bodyToString</span><span class="params">(<span class="keyword">final</span> RequestBody request)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">final</span> RequestBody copy = request;</span><br><span class="line">            <span class="keyword">final</span> Buffer buffer = <span class="keyword">new</span> Buffer();</span><br><span class="line">            <span class="keyword">if</span> (copy != <span class="keyword">null</span>)</span><br><span class="line">                copy.writeTo(buffer);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">            <span class="keyword">return</span> buffer.readUtf8();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (<span class="keyword">final</span> IOException e) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"did not work"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Builder</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        CommonParamsInterceptor interceptor;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Builder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            interceptor = <span class="keyword">new</span> CommonParamsInterceptor();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Builder <span class="title">addParam</span><span class="params">(String key, String value)</span> </span>&#123;</span><br><span class="line">            interceptor.paramsMap.put(key, value);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Builder <span class="title">addParamsMap</span><span class="params">(Map&lt;String, String&gt; paramsMap)</span> </span>&#123;</span><br><span class="line">            interceptor.paramsMap.putAll(paramsMap);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Builder <span class="title">addHeaderParam</span><span class="params">(String key, String value)</span> </span>&#123;</span><br><span class="line">            interceptor.headerParamsMap.put(key, value);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Builder <span class="title">addHeaderParamsMap</span><span class="params">(Map&lt;String, String&gt; headerParamsMap)</span> </span>&#123;</span><br><span class="line">            interceptor.headerParamsMap.putAll(headerParamsMap);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Builder <span class="title">addHeaderLine</span><span class="params">(String headerLine)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> index = headerLine.indexOf(<span class="string">":"</span>);</span><br><span class="line">            <span class="keyword">if</span> (index == -<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"Unexpected header: "</span> + headerLine);</span><br><span class="line">            &#125;</span><br><span class="line">            interceptor.headerLinesList.add(headerLine);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Builder <span class="title">addHeaderLinesList</span><span class="params">(List&lt;String&gt; headerLinesList)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">for</span> (String headerLine : headerLinesList) &#123;</span><br><span class="line">                <span class="keyword">int</span> index = headerLine.indexOf(<span class="string">":"</span>);</span><br><span class="line">                <span class="keyword">if</span> (index == -<span class="number">1</span>) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"Unexpected header: "</span> + headerLine);</span><br><span class="line">                &#125;</span><br><span class="line">                interceptor.headerLinesList.add(headerLine);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Builder <span class="title">addQueryParam</span><span class="params">(String key, String value)</span> </span>&#123;</span><br><span class="line">            interceptor.queryParamsMap.put(key, value);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Builder <span class="title">addQueryParamsMap</span><span class="params">(Map&lt;String, String&gt; queryParamsMap)</span> </span>&#123;</span><br><span class="line">            interceptor.queryParamsMap.putAll(queryParamsMap);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> CommonParamsInterceptor <span class="title">build</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> interceptor;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åŠ ç­¾æ‹¦æˆªå™¨"><a href="#åŠ ç­¾æ‹¦æˆªå™¨" class="headerlink" title="åŠ ç­¾æ‹¦æˆªå™¨"></a>åŠ ç­¾æ‹¦æˆªå™¨</h3><p>äº’è”ç½‘æ˜¯ä¸€ä¸ªå¼€æ”¾çš„ç¯å¢ƒ,å±é™©æ— å¤„ä¸åœ¨,åŠ å¯†é€šä¿¡æ˜¯å®‰å…¨çš„åŸºç¡€.</p><p>åŠ å¯†çš„æ–¹å¼åˆæœ‰å¾ˆå¤š,æ¯”å¦‚å¯¹ç§°åŠ å¯†/éå¯¹ç§°åŠ å¯†/Hash(ä¸¥æ ¼çš„è¯´ä¸æ˜¯åŠ å¯†),è¿™é‡Œå…ˆä¸å¯¹åŠ å¯†è¿›è¡Œä»‹ç»,æˆ‘ä»¬èŠèŠåŠ ç­¾;</p><p>åŠ ç­¾,å…¶å®å°±æ˜¯ç»™æŠ¥æ–‡åšä¸€ä¸ªæ‘˜è¦,ç›¸åŒçš„ç­¾åç®—æ³•å¾—åˆ°çš„æ‘˜è¦æ˜¯ç›¸åŒçš„,æ¯”å¦‚MD5, SH1, SH256ç­‰, ç®€å•çš„åŠ ç­¾å¹¶ä¸èƒ½é˜²æ­¢ç¯¡æ”¹,å› ä¸ºæ”»å‡»è€…å¯ä»¥ç¯¡æ”¹å,è‡ªå·±ç”Ÿæˆæ–°çš„ç­¾å.æœåŠ¡ç«¯éªŒç­¾è¿˜æ˜¯å¯ä»¥é€šè¿‡çš„,å› æ­¤åŠ ç­¾æ—¶ä¸€å®šè¦åŒ…å«ä¸€äº›ç§æœ‰çš„ä¸œè¥¿,æ¯”å¦‚ç§é’¥.</p><p>è¿™é‡Œä»‹ç»ä¸€ç§åŠ ç­¾æ–¹å¼,</p><blockquote><p> åŠ å¯†è§„åˆ™</p></blockquote><ol><li>æ ¹æ®è¯·æ±‚å‚æ•° key è¿›è¡Œæ’åº</li><li>æŒ‰æ’å¥½çš„é¡ºåºç»„è£…æˆ key=value&amp;key=value å½¢å¼çš„å­—ç¬¦ä¸²</li><li>å°†ä¸Šè¿°å­—ç¬¦ä¸²æ‹¼æ¥  ,æœ€ç»ˆå½¢æˆ key=value&amp;key=valueçš„å­—ç¬¦ä¸²</li><li>å°†å­—ç¬¦ä¸² md5, ç”Ÿæˆ auth.</li></ol><p>ä¸€ä¸ªç®€å•çš„åŠ ç­¾é€»è¾‘å°±æ˜¯è¿™æ ·,ä¸‹é¢ä»£ç å°±æ˜¯å¯¹è¿™ç§è§„åˆ™çš„å®ç°,çœ‹ä»£ç â†“â†“â†“â†“</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AuthorizeInterceptor</span> <span class="keyword">implements</span> <span class="title">Interceptor</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TAG = <span class="string">"AuthorizeInterceptor"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç”Ÿæˆ auth çš„ç§é’¥</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String authKey;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å½“å‰è®¾å¤‡ mid,ç”¨æ¥ç”Ÿæˆ auth</span></span><br><span class="line"><span class="comment">     * æ•°æ®ç”± Builder ç±»ä¼ å…¥</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String mid = <span class="string">""</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">AuthorizeInterceptor</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Response <span class="title">intercept</span><span class="params">(Chain chain)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        Request request = chain.request();</span><br><span class="line">        Request.Builder requestBuilder = request.newBuilder();</span><br><span class="line">        String url = request.url().toString();</span><br><span class="line">        LogUtils.d(TAG, url);</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">"POST"</span>.equals(request.method())) &#123;</span><br><span class="line">            request = injectionParamIntoBody(request, requestBuilder);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">"GET"</span>.equals(request.method())) &#123;</span><br><span class="line">            request = injectionAuthIntoUrl(request, requestBuilder);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> chain.proceed(request);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * GET è¯·æ±‚æ–¹å¼, ç”Ÿæˆæˆæƒå’Œæ·»åŠ æ—¶é—´æˆ³</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> request</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> requestBuilder</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Request <span class="title">injectionAuthIntoUrl</span><span class="params">(Request request, Request.Builder requestBuilder)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//è·å–åˆ°è¯·æ±‚åœ°å€api</span></span><br><span class="line">        HttpUrl newHttpUrl = request.url();</span><br><span class="line">        TreeMap&lt;String, String&gt; authMap = <span class="keyword">new</span> TreeMap&lt;&gt;();</span><br><span class="line">        <span class="comment">//é€šè¿‡è¯·æ±‚åœ°å€(æœ€åˆå§‹çš„è¯·æ±‚åœ°å€)è·å–åˆ°å‚æ•°åˆ—è¡¨</span></span><br><span class="line">        Set&lt;String&gt; parameterNames = newHttpUrl.queryParameterNames();</span><br><span class="line">        <span class="keyword">for</span> (String key : parameterNames) &#123;</span><br><span class="line">            <span class="comment">//å¾ªç¯å‚æ•°åˆ—è¡¨,è·å–å‚æ•°value,</span></span><br><span class="line">                String paramValue = newHttpUrl.queryParameter(key);</span><br><span class="line">                <span class="keyword">if</span> (!TextUtils.isEmpty(paramValue)) &#123;</span><br><span class="line">                    authMap.put(key, paramValue);</span><br><span class="line">                &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        HttpUrl.Builder newBuilder =</span><br><span class="line">                request.url().newBuilder()</span><br><span class="line">                        .addEncodedQueryParameter(<span class="string">"auth"</span>, assembleAuth(authMap, <span class="keyword">false</span>));</span><br><span class="line">        requestBuilder.url(newBuilder.build());</span><br><span class="line">        <span class="keyword">return</span> requestBuilder.build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å°†å‚æ•°æ³¨å…¥åˆ° POST è¯·æ±‚çš„ body ä¸­</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> request</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> requestBuilder</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Request <span class="title">injectionParamIntoBody</span><span class="params">(Request request, Request.Builder requestBuilder)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (request.body() <span class="keyword">instanceof</span> FormBody) &#123;</span><br><span class="line">            <span class="comment">// å¤„ç†æ­£å¸¸è¡¨å•è¯·æ±‚æ–¹å¼</span></span><br><span class="line">            FormBody oldFormBody = (FormBody) request.body();</span><br><span class="line">            <span class="keyword">return</span> assembleFormBody(request, oldFormBody, requestBuilder);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (request.body() <span class="keyword">instanceof</span> MultipartBody) &#123;</span><br><span class="line">            <span class="keyword">return</span> assembleMultipartBody(request, requestBuilder);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> request;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ„å»ºæµåª’ä½“å‚æ•°çš„ body</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> request</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> builder</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Request <span class="title">assembleMultipartBody</span><span class="params">(Request request, Request.Builder builder)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å¤„ç†æµçš„è¯·æ±‚æ–¹å¼</span></span><br><span class="line">        MultipartBody body = (MultipartBody) request.body();</span><br><span class="line">        TreeMap&lt;String, String&gt; authMap = <span class="keyword">new</span> TreeMap&lt;&gt;();</span><br><span class="line">        <span class="comment">// è·å–å‚æ•° key åŠ value æ•°æ®, å°†æ•°æ®å†™å…¥åˆ° TreeMap ä¸­è¿›è¡Œæ’åº</span></span><br><span class="line">        <span class="keyword">if</span> (body != <span class="keyword">null</span> &amp;&amp; body.parts().size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (MultipartBody.Part part : body.parts()) &#123;</span><br><span class="line">                <span class="comment">// åªå¤„ç† contentType ä¸ºç©º,æˆ–ä¸º text çš„æƒ…å†µ, image ä¸Šä¼ å›¾ç‰‡çš„å­—æ®µ,ä¸è¿›è¡Œå¤„ç†</span></span><br><span class="line">                <span class="keyword">if</span> (part.body().contentType() == <span class="keyword">null</span></span><br><span class="line">                        || !<span class="string">"image"</span>.equals(part.body().contentType().type())</span><br><span class="line">                        || <span class="string">"text"</span>.equals(part.body().contentType().type())) &#123;</span><br><span class="line">                    Headers headers = part.headers();</span><br><span class="line">                    <span class="comment">// ä» header ä¸­è·å– Key, form-data; name= çš„å­—æ®µè¿‡æ»¤è·å–key</span></span><br><span class="line">                    <span class="comment">// ç­›é€‰æ‰ basic, è·å–åˆ°å½“å‰ header,å¯¹åº”çš„ RequestBody, é€šè¿‡ buffer çš„æ–¹å¼,è·å–åˆ° value</span></span><br><span class="line">                    <span class="comment">// å°† key å’Œ value å¡«å……åˆ° TreeMap ä¸­</span></span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; headers.names().size(); i++) &#123;</span><br><span class="line">                        String headerName = headers.value(i);</span><br><span class="line">                        <span class="keyword">if</span> (headerName.contains(<span class="string">"form-data; name="</span>)) &#123;</span><br><span class="line">                            String key = headerName.replace(<span class="string">"form-data; name="</span>, <span class="string">""</span>).replace(<span class="string">"\""</span>, <span class="string">""</span>);</span><br><span class="line">                                String value = body2String(part.body());</span><br><span class="line">                                <span class="keyword">if</span> (!TextUtils.isEmpty(value)) &#123;</span><br><span class="line">                                    authMap.put(key, body2String(part.body()));</span><br><span class="line">                                &#125;</span><br><span class="line">                                                   &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        MultipartBody.Builder multipartBuilder = <span class="keyword">new</span> MultipartBody.Builder().setType(MultipartBody.FORM);</span><br><span class="line">        multipartBuilder.addFormDataPart(<span class="string">"auth"</span>, assembleAuth(authMap, <span class="keyword">false</span>));</span><br><span class="line">        List&lt;MultipartBody.Part&gt; oldParts = ((MultipartBody) request.body()).parts();</span><br><span class="line">        <span class="keyword">if</span> (oldParts != <span class="keyword">null</span> &amp;&amp; oldParts.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (MultipartBody.Part part : oldParts) &#123;</span><br><span class="line">                multipartBuilder.addPart(part);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        builder.post(multipartBuilder.build());</span><br><span class="line">        <span class="keyword">return</span> builder.build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ„å»º Auth æ•°æ®</span></span><br><span class="line"><span class="comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="comment">     * TreeMap æ•°æ®,æŒ‰ç…§å­—æ¯é¡ºåºè‡ªåŠ¨æ’åºå,éå†æ•°æ®,æ‹¼æ¥æˆ key=value&amp;key=value çš„å½¢å¼,</span></span><br><span class="line"><span class="comment">     * Map æ‹¼æ¥å®Œæˆå,åœ¨å…¶åéœ€è¦å†æ¬¡æ‹¼æ¥ä¸Š</span></span><br><span class="line"><span class="comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="comment">     * æœ€åå°†æ•°æ® MD5 è½¬åŒ–ä¸º 32 ä½å°å†™å¹¶è¿”å›</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> treeMap      æ„å»º Auth çš„å…·ä½“æ•°æ®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> isNeedDecode æ˜¯å¦éœ€è¦è§£ç </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> è¿”å› auth æ•°æ® </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">assembleAuth</span><span class="params">(TreeMap&lt;String, String&gt; treeMap, <span class="keyword">boolean</span> isNeedDecode)</span> </span>&#123;</span><br><span class="line">        StringBuilder stringBuilder = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">if</span> (treeMap.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (Map.Entry&lt;String, String&gt; stringStringEntry : treeMap.entrySet()) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    stringBuilder.append(stringStringEntry.getKey())</span><br><span class="line">                            .append(<span class="string">"="</span>)</span><br><span class="line">                            .append(isNeedDecode</span><br><span class="line">                                    ? URLDecoder.decode(stringStringEntry.getValue(), <span class="string">"UTF-8"</span>)</span><br><span class="line">                                    : stringStringEntry.getValue())</span><br><span class="line">                            .append(<span class="string">"&amp;"</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        treeMap.clear();</span><br><span class="line">        stringBuilder</span><br><span class="line">                .append(authKey);</span><br><span class="line">        Log.d(TAG, stringBuilder.toString());</span><br><span class="line">        <span class="keyword">return</span> MD5.MD5(stringBuilder.toString());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * body è½¬ string è·å–å®é™…å‚æ•°å€¼</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> body Part body</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> part ä¸­å†™å¦‚çš„å‚æ•°æ•°æ®</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">body2String</span><span class="params">(RequestBody body)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (body != <span class="keyword">null</span>) &#123;</span><br><span class="line">            Buffer buffer = <span class="keyword">new</span> Buffer();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                body.writeTo(buffer);</span><br><span class="line">                Charset charset = Charset.forName(<span class="string">"UTF-8"</span>);</span><br><span class="line">                MediaType contentType = body.contentType();</span><br><span class="line">                <span class="keyword">if</span> (contentType != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    charset = contentType.charset(charset);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">assert</span> charset != <span class="keyword">null</span>;</span><br><span class="line">                <span class="keyword">return</span> buffer.readString(charset);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç»„è£… Form è¡¨å•è¯·æ±‚æ•°æ®</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> request</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> oldFormBody</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> requestBuilder</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Request <span class="title">assembleFormBody</span><span class="params">(Request request, FormBody oldFormBody, Request.Builder requestBuilder)</span> </span>&#123;</span><br><span class="line">        TreeMap&lt;String, String&gt; authMap = <span class="keyword">new</span> TreeMap&lt;&gt;();</span><br><span class="line">        <span class="comment">// éå†è¯·æ±‚å‚æ•°,éç©ºå‚æ•°,æ·»åŠ åˆ°é›†åˆä¸­</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; oldFormBody.size(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!TextUtils.isEmpty(oldFormBody.encodedValue(i))) &#123;</span><br><span class="line">                authMap.put(oldFormBody.encodedName(i), oldFormBody.encodedValue(i));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (authMap.size() != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// ç”Ÿæˆ auth æ•°æ®</span></span><br><span class="line">            FormBody.Builder newFormBody = <span class="keyword">new</span> FormBody.Builder();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; oldFormBody.size(); i++) &#123;</span><br><span class="line">                newFormBody.addEncoded(oldFormBody.encodedName(i), oldFormBody.encodedValue(i));</span><br><span class="line">            &#125;</span><br><span class="line">            newFormBody.add(<span class="string">"auth"</span>, assembleAuth(authMap, <span class="keyword">true</span>));</span><br><span class="line">            requestBuilder.method(request.method(), newFormBody.build());</span><br><span class="line">            <span class="keyword">return</span> requestBuilder.build();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> request;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Builder æ„é€ å‡½æ•°,ç”¨æ¥è®¾ç½® Authorize çš„ç›¸å…³å‚æ•°,åŠåˆ›å»ºå·¥ä½œ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Builder</span> </span>&#123;</span><br><span class="line">        AuthorizeInterceptor authorizeInterceptor;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Builder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            authorizeInterceptor = <span class="keyword">new</span> AuthorizeInterceptor();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Builder <span class="title">setMid</span><span class="params">(String mid)</span> </span>&#123;</span><br><span class="line">            authorizeInterceptor.mid = mid;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Builder <span class="title">setAuthKey</span><span class="params">(String key)</span> </span>&#123;</span><br><span class="line">            authorizeInterceptor.authKey = key;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> AuthorizeInterceptor <span class="title">build</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> authorizeInterceptor;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯¥åŠ ç­¾æ–¹å¼,è®²è¯·æ±‚å‚æ•°æ‹¼æ¥ä¸º <code>key=value</code> çš„æ–¹å¼, éš¾ç‚¹åœ¨äºå¦‚ä½•ä» OkHttp ä¸­è·å–è¿™äº›å‚æ•°,åœ¨ GET è¯·æ±‚å’Œ POST çš„å¤„ç†æ–¹å¼åˆä¸åŒ,ä»£ç ä¸­ POST è¯·æ±‚æ–¹å¼,åˆä¼šæ ¹æ®è¯·æ±‚ä¼ é€’çš„ <code>contentType</code> è€Œåˆæœ‰æ‰€ä¸åŒ,è¿™é‡Œä»‹ç»äº†<code>Form</code>è¡¨å•æäº¤å’Œ <code>Multipart</code> ä¸Šä¼ æ–‡ä»¶çš„å‚æ•°è·å–æ–¹å¼,å…¶ä»–çš„è¯·ä¸¾ä¸€åä¸‰.</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;OkHttp-Interceptor&quot;&gt;&lt;a href=&quot;#OkHttp-Interceptor&quot; class=&quot;headerlink&quot; title=&quot;OkHttp Interceptor&quot;&gt;&lt;/a&gt;OkHttp Interceptor&lt;/h1&gt;&lt;p&gt;OKHttp åœ¨å¼€å‘ä¸­ç»å¸¸ç”¨åˆ°,è¿™é‡Œä»‹ç»ä¸€ä¸‹ OKHttp çš„æ‹¦æˆªå™¨(interceptor)çš„å‡ ä¸ªä½¿ç”¨ä¾‹å­&lt;/p&gt;
&lt;p&gt;è¦æ˜¯ç”¨æ‹¦æˆªå™¨å¾ˆç®€å•,æˆ‘ä»¬åªéœ€è¦è‡ªå®šä¹‰ä¸€ä¸ª interceptor ç±», å¹¶å®ç° Interceptor æ¥å£, åŒæ—¶é‡å†™ intercept æ–¹æ³•.&lt;/p&gt;
&lt;p&gt;è¿™é‡Œä»‹ç»ä¸¤ç§ Interceptor çš„å®ä¾‹&lt;/p&gt;
&lt;h2 id=&quot;Log-æ—¥å¿—-LogInterceptor&quot;&gt;&lt;a href=&quot;#Log-æ—¥å¿—-LogInterceptor&quot; class=&quot;headerlink&quot; title=&quot;Log æ—¥å¿— (LogInterceptor)&quot;&gt;&lt;/a&gt;Log æ—¥å¿— (LogInterceptor)&lt;/h2&gt;&lt;p&gt;Log åœ¨å¼€å‘è°ƒè¯•ä¸­çš„é‡è¦æ€§, ä¸è¨€è€Œå–», ä¸€ä¸ªå¥½çš„æ—¥å¿—æ•°æ®,èƒ½å¤Ÿä¸ºå¼€å‘æ—¶æä¾›å¾ˆå¤šå¸®åŠ©,å¯ä»¥é€šè¿‡ Log æ¥è·å–å½“å‰ç¨‹åºçš„æ‰§è¡ŒçŠ¶æ€, é¡ºåºç­‰ç­‰.&lt;/p&gt;
    
    </summary>
    
    
      <category term="OkHttp" scheme="http://xiaoman.ren/tags/OkHttp/"/>
    
  </entry>
  
  <entry>
    <title>å¤šä¸ª ssh å…¬é’¥æäº¤ä»£ç åˆ°ä¸åŒå¹³å°</title>
    <link href="http://xiaoman.ren/2019/04/17/%E5%A4%9A%E4%B8%AA-ssh-%E5%85%AC%E9%92%A5%E6%8F%90%E4%BA%A4%E4%BB%A3%E7%A0%81%E5%88%B0%E4%B8%8D%E5%90%8C%E5%B9%B3%E5%8F%B0/"/>
    <id>http://xiaoman.ren/2019/04/17/å¤šä¸ª-ssh-å…¬é’¥æäº¤ä»£ç åˆ°ä¸åŒå¹³å°/</id>
    <published>2019-04-17T14:09:21.000Z</published>
    <updated>2019-05-10T14:45:12.758Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å¤šä¸ª-SSH-å…¬é’¥æäº¤ä»£ç åˆ°ä¸åŒå¹³å°"><a href="#å¤šä¸ª-SSH-å…¬é’¥æäº¤ä»£ç åˆ°ä¸åŒå¹³å°" class="headerlink" title="å¤šä¸ª SSH å…¬é’¥æäº¤ä»£ç åˆ°ä¸åŒå¹³å°"></a>å¤šä¸ª SSH å…¬é’¥æäº¤ä»£ç åˆ°ä¸åŒå¹³å°</h1><p>ä½œä¸ºä¸€ä¸ªæŠ€æœ¯å¼€å‘äººå‘˜ï¼Œå…ä¸äº†åœ¨ <code>github</code> ä»¥åŠ <code>gitlab</code> ä»¥åŠå…¶ä»– <code>git</code> å¹³å°ä¸Šè¿›è¡Œä»£ç ç®¡ç†ï¼›<br>å·¥ä½œä¸­æ‚¨å¯èƒ½ä½¿ç”¨ <code>svn</code> ï¼ˆè¿™ä¸åœ¨æˆ‘ä»¬çš„è®¨è®ºèŒƒå›´ï¼‰,ä¹Ÿæœ‰å¯èƒ½ä½¿ç”¨ <code>git</code>, ç”Ÿæ´»ä¸­ï¼Œæ‚¨å¯èƒ½ä¼šå°†ä¸€äº›å†…å®¹åˆ†äº«åˆ°ä½ çš„ <code>github</code> ä¸Šï¼Œ ä¾›å¤§å®¶å‚é˜…ã€‚</p><p><code>git</code> åˆ›å»ºç‰ˆæœ¬åº“å¾ˆå®¹æ˜“ï¼Œ <code>clone</code> ä»£ç ä¹Ÿä»…ä»…æ˜¯ç®€å•çš„ä¸€å¥ <code>git clone https://github.com/xxxx.git</code>ï¼Œå¼‚æˆ–æ˜¯ <code>git clone git@github.com:xxxxx.git</code>ï¼›å½“ç„¶ï¼Œä½¿ç”¨ <code>https</code> çš„æ–¹å¼ç®€å•æ˜“æ“ä½œï¼ˆæœ¬äººè®¤ä¸ºæ˜¯ä¸€ä¸ªå‚»ç“œç›¸æœºï¼‰ï¼Œä½†æ˜¯é€šè¿‡ä½¿ç”¨ <code>https</code> çš„æ–¹å¼ï¼Œç»å¸¸ä¼šé‡åˆ°éœ€è¦è¾“å…¥è´¦å·å’Œå¯†ç çš„æƒ…å†µï¼Œè¿™å¤§å¤§çš„åŠ å¤§äº†å®‰å…¨é—®é¢˜ï¼Œè™½ç„¶æŸ dear çš„å›¾å½¢åŒ–å·¥å…·ï¼Œä¼šå¸®åŠ©æˆ‘ä»¬ remeber è´¦å·å’Œå¯†ç ï¼Œé¿å…äº†é‡å¤è¾“å…¥ï¼Œä½†è¿™ä¸åœ¨æˆ‘ä»¬çš„è®¨è®ºèŒƒå›´ï¼ˆä¸ªäººå¾ˆé„™è§†ä½¿ç”¨å›¾å½¢åŒ–ç•Œé¢çš„ï¼‰ï¼Œæ¥ä¸‹æ¥è¦è¯´çš„å°±æ˜¯ä½¿ç”¨ <code>SSH</code> çš„æ–¹å¼æ¥å¤„ç† <code>git</code> çš„ç‰ˆæœ¬ç®¡ç†ã€‚</p><a id="more"></a><h2 id="ç”Ÿæˆ-SSH-å¯†é’¥"><a href="#ç”Ÿæˆ-SSH-å¯†é’¥" class="headerlink" title="ç”Ÿæˆ SSH å¯†é’¥"></a>ç”Ÿæˆ SSH å¯†é’¥</h2><p>ä½¿ç”¨ <code>SSH</code> åˆ›å»ºä¸€å¥—å…¬å¯†é’¥ï¼Œå°†å…¬é’¥æ·»åŠ åˆ°ä½ è¦ä½¿ç”¨çš„ <code>Git</code> å¹³å°è´¦æˆ·ä¸‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;your email addr&quot; -f ~/.ssh/github</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼š</p><ol><li><code>-f</code> åé¢çš„å‚æ•°æ˜¯ç”¨æ¥è‡ªå®šä¹‰ SSH KEY çš„å­˜æ”¾è·¯å¾„ï¼Œå¦‚æœä¸éœ€è¦ä¹Ÿå¯ä»¥è‡ª -f å¼€å§‹çœç•¥</li><li>å‘½ä»¤è¾“å…¥å®Œæˆåï¼Œè¿å‡»3ä¸‹å›è½¦å°±å¯ä»¥ï¼Œä¸éœ€è¦å¤„ç†æ“ä½œï¼ˆé™¤éä½ å¾ˆæƒ³å¤„ç†ï¼‰</li></ol><h2 id="æ·»åŠ ç”Ÿæˆçš„-SSH-å…¬é’¥"><a href="#æ·»åŠ ç”Ÿæˆçš„-SSH-å…¬é’¥" class="headerlink" title="æ·»åŠ ç”Ÿæˆçš„ SSH å…¬é’¥"></a>æ·»åŠ ç”Ÿæˆçš„ SSH å…¬é’¥</h2><p>æ·»åŠ  ssh å…¬é’¥åˆ° <code>github</code> **</p><ol><li><p>æ‰“å¼€ <code>https://github.com/settings/profile</code> ï¼Œé€‰æ‹© <code>SSH and GPG keys</code></p><p> <img src="https://raw.githubusercontent.com/boywithsmalleyes/static_file/master/images/%E6%B7%B1%E5%BA%A6%E6%88%AA%E5%9B%BE_%E9%80%89%E6%8B%A9%E5%8C%BA%E5%9F%9F_20190425135335.png" alt></p></li><li><p>ç‚¹å‡» <code>New SSH key</code></p><ol><li>title å¯ä»¥éšä¾¿å†™ï¼Œå»ºè®®è§åçŸ¥æ„ï¼Œèƒ½çŸ¥é“æ˜¯å“ªå°è®¾å¤‡</li><li>key é€šè¿‡åˆšåˆšé€šè¿‡ <code>SSH</code> å‘½ä»¤ç”Ÿæˆçš„ <code>.pub</code> æ–‡ä»¶ä¸­å¤åˆ¶å³å¯ã€‚æ–‡ä»¶è·¯å¾„ <code>.ssh/id_rsa.pub</code> å¼‚æˆ–æ˜¯å­˜åœ¨æ‚¨ <code>-f</code> ä¹‹åæŒ‡å®šçš„ç›®å½•ã€‚</li><li>ç‚¹å‡» <code>add SSH key</code></li></ol></li></ol><h2 id="é…ç½®å¤šä¸ª-ssh"><a href="#é…ç½®å¤šä¸ª-ssh" class="headerlink" title="é…ç½®å¤šä¸ª ssh"></a>é…ç½®å¤šä¸ª ssh</h2><p>é…ç½®å¤šä¸ª <code>ssh</code> æ—¶ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼š</p><ol><li>å¦‚æœä½ æœªæŒ‡å®šå…¬é’¥çš„å­˜å‚¨è·¯å¾„ï¼Œé‚£ä¹ˆä½ éœ€è¦ä¸€ä¸ªä¸€ä¸ªçš„æ‰‹åŠ¨å»åˆ›å»ºï¼Œå¹¶é…ç½® <code>ssh</code> å…¬é’¥åˆ°å¯¹åº”å¹³å°ï¼Œå¦åˆ™ï¼Œåç»­çš„ <code>ssh</code> åˆ›å»ºè¿‡ç¨‹ï¼Œ ä¼šè¦†ç›–æ‰ä¹‹å‰åˆ›å»ºçš„ã€‚</li><li><code>ssh-keygen</code> ä¼šåŒæ—¶åˆ›å»º <code>id_rsa</code> å’Œ <code>id_rsa.pub</code> ä¸¤ä¸ªæ–‡ä»¶ï¼Œ <code>.pub</code> æ˜¯å…¬é’¥ï¼Œ ä¸å¸¦åç¼€çš„æ˜¯ä½ çš„ç§é’¥ã€‚</li><li>åŒæ—¶é…ç½®å¤šä¸ª <code>ssh</code> æ—¶ï¼Œéœ€è¦æ‚¨ä¿ç•™ç§é’¥åœ¨ <code>.ssh</code> ç›®å½•ä¸‹ï¼Œä¸ºä¿è¯å¤šå¹³å°éƒ½å¯ä»¥ä½¿ç”¨ï¼Œæ‚¨éœ€è¦æ‰‹åŠ¨ä¿®æ”¹ä¸€ä¸‹ <code>id_rsa</code> æ–‡ä»¶çš„åç§°ï¼Œ<code>.pub</code> å°±éšä¾¿äº†ï¼Œé…ç½®å®Œï¼Œå°±æ²¡ç”¨äº†ã€‚</li><li><p>å°†å¯†é’¥æ·»åŠ åˆ° <code>ssh-agent</code> ä¸­</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-add ~.ssh/id_rsa</span><br></pre></td></tr></table></figure></li></ol><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># æŸ¥çœ‹ agent ä¸­çš„å¯†é’¥</span><br><span class="line">ssh-add -l</span><br><span class="line"># æŸ¥çœ‹ agent ä¸­çš„å…¬é’¥</span><br><span class="line">ssh-add -L</span><br><span class="line"># åˆ é™¤ agent ä¸­çš„å¯†é’¥</span><br><span class="line">ssh-add -d .ssh/id_xxx.pub</span><br></pre></td></tr></table></figure></code></pre><h2 id="ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h2><p>è¯´äº†åŠå¤©ï¼Œç»ˆäºåˆ°é‡ç‚¹äº†</p><ol><li><p>åœ¨ <code>~/.ssh</code> ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª <code>config</code> æ–‡ä»¶</p><p> å¯¹ï¼Œæ²¡æœ‰é”™ï¼Œå°±æ˜¯ä¸€ä¸ªè¿åç¼€éƒ½æ²¡æœ‰çš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶ç”¨æ¥å­˜å‚¨æ‚¨çš„æ‰€æœ‰å¹³å°ä¿¡æ¯ï¼Œä»¥åŠå¹³å°å¯¹åº”ä½¿ç”¨çš„ <code>ssh</code> å¯†é’¥ã€‚<br> <code>touch config</code></p></li><li><p>æ·»åŠ ä»¥ä¸‹é…ç½®ä¿¡æ¯</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># github</span><br><span class="line">Host github.com # ä¹Ÿå¯ä»¥æ˜¯æ•°å­— ip åœ°å€ï¼ŒåŠ ä¸åŠ  http/https éƒ½æ— æ‰€è°“</span><br><span class="line">HostName github.com # åŒä¸Š</span><br><span class="line">PreferredAuthentications publickey # è¿™é‡Œä¸è¦ä¿®æ”¹</span><br><span class="line">IdentityFile ~/.ssh/id_rsa_github # è¿™é‡Œçš„æ–‡ä»¶åä¿®æ”¹ä¸ºè¯¥å¹³å°å¯¹åº”çš„å¯†é’¥</span><br><span class="line"></span><br><span class="line"># gitlab</span><br><span class="line">Host å…¬å¸ gitlab åœ°å€</span><br><span class="line">HostName å…¬å¸ gitlab åœ°å€</span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line">IdentityFile ~/.ssh/id_rsa_gitlab</span><br><span class="line"></span><br><span class="line">...</span><br></pre></td></tr></table></figure></li></ol><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><p>å‘½ä»¤ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><p>ç»“æœ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hi boywithsmalleyes! You&apos;ve successfully authenticated, but GitHub does not provide shell access.</span><br></pre></td></tr></table></figure><p>åªéœ€è¦æ›¿æ¢åé¢çš„ <code>git</code>ä»“åº“åœ°å€, å…¶ä»–ç‰ˆæœ¬åº“éƒ½å¯ä»¥è¿›è¡Œæµ‹è¯•ã€‚</p><h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>è¯´äº†åŠå¤©ï¼Œ è¿˜æ˜¯è¦è®°ä½ä¸€ç‚¹ï¼Œæ—¢ç„¶è¦ä½¿ç”¨ <code>ssh</code> çš„æ–¹å¼è¿›è¡Œç‰ˆæœ¬ç®¡ç†ï¼Œé‚£ä¹ˆåœ¨ <code>clone</code> ä»£ç æ—¶ï¼Œä¹Ÿè¦ä½¿ç”¨ <code>ssh</code> æ–¹å¼ï¼Œ ä¸ç„¶æˆ‘è¯´äº†è¿™ä¹ˆåŠå¤©ï¼Œéƒ½æ˜¯ç™½æ‰¯ã€‚</p><blockquote><p>æ–‡ç« å†…å®¹æœ‰ç‘•ç–µï¼Œè¯·ç»™äºˆæŒ‡æ­£æ‰¹è¯„</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å¤šä¸ª-SSH-å…¬é’¥æäº¤ä»£ç åˆ°ä¸åŒå¹³å°&quot;&gt;&lt;a href=&quot;#å¤šä¸ª-SSH-å…¬é’¥æäº¤ä»£ç åˆ°ä¸åŒå¹³å°&quot; class=&quot;headerlink&quot; title=&quot;å¤šä¸ª SSH å…¬é’¥æäº¤ä»£ç åˆ°ä¸åŒå¹³å°&quot;&gt;&lt;/a&gt;å¤šä¸ª SSH å…¬é’¥æäº¤ä»£ç åˆ°ä¸åŒå¹³å°&lt;/h1&gt;&lt;p&gt;ä½œä¸ºä¸€ä¸ªæŠ€æœ¯å¼€å‘äººå‘˜ï¼Œå…ä¸äº†åœ¨ &lt;code&gt;github&lt;/code&gt; ä»¥åŠ &lt;code&gt;gitlab&lt;/code&gt; ä»¥åŠå…¶ä»– &lt;code&gt;git&lt;/code&gt; å¹³å°ä¸Šè¿›è¡Œä»£ç ç®¡ç†ï¼›&lt;br&gt;å·¥ä½œä¸­æ‚¨å¯èƒ½ä½¿ç”¨ &lt;code&gt;svn&lt;/code&gt; ï¼ˆè¿™ä¸åœ¨æˆ‘ä»¬çš„è®¨è®ºèŒƒå›´ï¼‰,ä¹Ÿæœ‰å¯èƒ½ä½¿ç”¨ &lt;code&gt;git&lt;/code&gt;, ç”Ÿæ´»ä¸­ï¼Œæ‚¨å¯èƒ½ä¼šå°†ä¸€äº›å†…å®¹åˆ†äº«åˆ°ä½ çš„ &lt;code&gt;github&lt;/code&gt; ä¸Šï¼Œ ä¾›å¤§å®¶å‚é˜…ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git&lt;/code&gt; åˆ›å»ºç‰ˆæœ¬åº“å¾ˆå®¹æ˜“ï¼Œ &lt;code&gt;clone&lt;/code&gt; ä»£ç ä¹Ÿä»…ä»…æ˜¯ç®€å•çš„ä¸€å¥ &lt;code&gt;git clone https://github.com/xxxx.git&lt;/code&gt;ï¼Œå¼‚æˆ–æ˜¯ &lt;code&gt;git clone git@github.com:xxxxx.git&lt;/code&gt;ï¼›å½“ç„¶ï¼Œä½¿ç”¨ &lt;code&gt;https&lt;/code&gt; çš„æ–¹å¼ç®€å•æ˜“æ“ä½œï¼ˆæœ¬äººè®¤ä¸ºæ˜¯ä¸€ä¸ªå‚»ç“œç›¸æœºï¼‰ï¼Œä½†æ˜¯é€šè¿‡ä½¿ç”¨ &lt;code&gt;https&lt;/code&gt; çš„æ–¹å¼ï¼Œç»å¸¸ä¼šé‡åˆ°éœ€è¦è¾“å…¥è´¦å·å’Œå¯†ç çš„æƒ…å†µï¼Œè¿™å¤§å¤§çš„åŠ å¤§äº†å®‰å…¨é—®é¢˜ï¼Œè™½ç„¶æŸ dear çš„å›¾å½¢åŒ–å·¥å…·ï¼Œä¼šå¸®åŠ©æˆ‘ä»¬ remeber è´¦å·å’Œå¯†ç ï¼Œé¿å…äº†é‡å¤è¾“å…¥ï¼Œä½†è¿™ä¸åœ¨æˆ‘ä»¬çš„è®¨è®ºèŒƒå›´ï¼ˆä¸ªäººå¾ˆé„™è§†ä½¿ç”¨å›¾å½¢åŒ–ç•Œé¢çš„ï¼‰ï¼Œæ¥ä¸‹æ¥è¦è¯´çš„å°±æ˜¯ä½¿ç”¨ &lt;code&gt;SSH&lt;/code&gt; çš„æ–¹å¼æ¥å¤„ç† &lt;code&gt;git&lt;/code&gt; çš„ç‰ˆæœ¬ç®¡ç†ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Git" scheme="http://xiaoman.ren/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>Java åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æ˜¯æ•°å­—çš„æ–¹æ³•</title>
    <link href="http://xiaoman.ren/2019/04/16/Java-%E5%88%A4%E6%96%AD%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%98%AF%E5%90%A6%E6%98%AF%E6%95%B0%E5%AD%97%E7%9A%84%E6%96%B9%E6%B3%95/"/>
    <id>http://xiaoman.ren/2019/04/16/Java-åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æ˜¯æ•°å­—çš„æ–¹æ³•/</id>
    <published>2019-04-16T09:47:06.000Z</published>
    <updated>2019-04-17T13:55:55.390Z</updated>
    
    <content type="html"><![CDATA[<ul><li>ä½¿ç”¨ Javaè‡ªå¸¦çš„å‡½æ•°</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public static boolean isNumeric (String str) &#123;</span><br><span class="line">    for (int i = str.length(); --i &gt;=0) &#123;</span><br><span class="line">          if (!Character.isDigit(str.charAt(i))) &#123;</span><br><span class="line">                return false;</span><br><span class="line">          &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><ul><li>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼</li></ul><p>æ–¹æ³•ä¸€:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public static boolean isNumeric(String str) &#123;</span><br><span class="line">    Pattern pattern = Pattern.compile(&quot;^[-\\+]?[\\d]*$&quot;);</span><br><span class="line">    return pattern.matcher(str).matches();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–¹æ³•äºŒ:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public static boolean isNumeric(String str) &#123;</span><br><span class="line">    if (str != null &amp;&amp; !&quot;&quot;.equals(str.trim())) &#123;</span><br><span class="line">          return s.matches(&quot;^[0-9]*$&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–¹æ³•ä¸‰:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> public static boolean isNumeric (String str) &#123;</span><br><span class="line">    Pattern pattern = Pattern.compile(&quot;[0-9]*&quot;);</span><br><span class="line">    return pattern.matcher(str).matcher();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨ ASCII ç </li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public static boolean isNumeric (String str) &#123;</span><br><span class="line">    for (int i = str.length(); --i&gt;=0;) &#123;</span><br><span class="line">        int chr = str.charAt(i);</span><br><span class="line">        if (chr &lt; 48 || chr &gt; 57) &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>åˆ¤æ–­æ˜¯ä¸æ˜¯æµ®ç‚¹å‹æ•°æ®</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public static boolean isDouble(String str) &#123;</span><br><span class="line">    Pattern pattern = Pattern.compile(&quot;^[-\\+]?[.\\d]*$&quot;);</span><br><span class="line">    return pattern.matcher(str).matches();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ Javaè‡ªå¸¦çš„å‡½æ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;public static boolean isNumeric (String str) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    for (int i = str.length(); --i &amp;gt;=0) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          if (!Character.isDigit(str.charAt(i))) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                return false;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return true;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="Java" scheme="http://xiaoman.ren/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>Android ä¸­è®¾ç½®å…¨å±çš„æ–¹æ³•</title>
    <link href="http://xiaoman.ren/2019/04/16/Android-%E4%B8%AD%E8%AE%BE%E7%BD%AE%E5%85%A8%E5%B1%8F%E7%9A%84%E6%96%B9%E6%B3%95/"/>
    <id>http://xiaoman.ren/2019/04/16/Android-ä¸­è®¾ç½®å…¨å±çš„æ–¹æ³•/</id>
    <published>2019-04-16T09:46:31.000Z</published>
    <updated>2019-04-17T13:55:03.516Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨å¼€å‘ä¸­,æˆ‘ä»¬ç»å¸¸éœ€è¦æŠŠæˆ‘ä»¬çš„åº”ç”¨è®¾ç½®ä¸ºå…¨å±,è¿™é‡Œæœ‰ä¸¤ç§æ–¹å¼: ä¸€æ˜¯åœ¨ä»£ç ä¸­è®¾ç½®; äºŒæ˜¯åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®</p><h1 id="ä¸€-åœ¨ä»£ç ä¸­è®¾ç½®"><a href="#ä¸€-åœ¨ä»£ç ä¸­è®¾ç½®" class="headerlink" title="ä¸€. åœ¨ä»£ç ä¸­è®¾ç½®"></a>ä¸€. åœ¨ä»£ç ä¸­è®¾ç½®</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public class BaseActivity extends Activity &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(saveInstanceState);</span><br><span class="line">        // æ— title</span><br><span class="line">        requestWindowFeature(Window.FEATURE_NO_TITLE);</span><br><span class="line">        // å…¨å±</span><br><span class="line">        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¼ºè°ƒä¸€ç‚¹: <strong> è®¾ç½®å…¨å±çš„ä¸¤æ®µä»£ç ,å¿…é¡»åœ¨ <code>setContentView()</code> ä¹‹å‰è°ƒç”¨,ä¸ç„¶ä¼šæŠ¥é”™ </strong></p><h1 id="äºŒ-åœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹"><a href="#äºŒ-åœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹" class="headerlink" title="äºŒ. åœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹"></a>äºŒ. åœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;manifest </span><br><span class="line">  xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">  package=&quot;com.android.test&quot;</span><br><span class="line">  android:versionCode=&quot;1&quot;</span><br><span class="line">  ndroid:versionName=&quot;1.0&quot;&gt;</span><br><span class="line">  &lt;application android:icon=&quot;@drawable/icon&quot;</span><br><span class="line">    android:lable=&quot;@string/app_name&gt;</span><br><span class="line">    &lt;activity android:name=&quot;.BaseActivity&quot; </span><br><span class="line">        android:theme=&quot;@android:style/Theme.NotitleBar.Fullscreen&quot;</span><br><span class="line">        android:lable=&quot;@string/app_name&quot;&gt;</span><br><span class="line">        &lt;intent-filter&gt;</span><br><span class="line">            &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;</span><br><span class="line">            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;</span><br><span class="line">        &lt;/intent-filter&gt;</span><br><span class="line">  &lt;/application&gt;</span><br><span class="line">&lt;/manifest&gt;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ç¬¬ä¸€ç§æ–¹æ³•,ä¼šåœ¨åº”ç”¨è¿è¡Œå,çœ‹åˆ°ä¸€ä¸ªçŸ­æš‚çš„çŠ¶æ€æ¥, ç„¶åæ‰å…¨å±, è€Œç¬¬äºŒç§æ–¹æ³•æ˜¯ä¸ä¼šæœ‰è¿™ç§æƒ…å†µçš„,å¤§å®¶æ ¹æ®éœ€è¦è‡ªè¡Œé€‰æ‹©.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åœ¨å¼€å‘ä¸­,æˆ‘ä»¬ç»å¸¸éœ€è¦æŠŠæˆ‘ä»¬çš„åº”ç”¨è®¾ç½®ä¸ºå…¨å±,è¿™é‡Œæœ‰ä¸¤ç§æ–¹å¼: ä¸€æ˜¯åœ¨ä»£ç ä¸­è®¾ç½®; äºŒæ˜¯åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®&lt;/p&gt;
&lt;h1 id=&quot;ä¸€-åœ¨ä»£ç ä¸­è®¾ç½®&quot;&gt;&lt;a href=&quot;#ä¸€-åœ¨ä»£ç ä¸­è®¾ç½®&quot; class=&quot;headerlink&quot; title=&quot;ä¸€. åœ¨ä»£ç ä¸­è®¾ç½®&quot;&gt;&lt;/a&gt;ä¸€
      
    
    </summary>
    
    
      <category term="Android" scheme="http://xiaoman.ren/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>Android è·å– IP åœ°å€</title>
    <link href="http://xiaoman.ren/2019/04/16/Android-%E8%8E%B7%E5%8F%96-IP-%E5%9C%B0%E5%9D%80/"/>
    <id>http://xiaoman.ren/2019/04/16/Android-è·å–-IP-åœ°å€/</id>
    <published>2019-04-16T09:46:00.000Z</published>
    <updated>2019-04-17T13:54:55.500Z</updated>
    
    <content type="html"><![CDATA[<p>å¼€å‘ä¸­ç»å¸¸ä¼šéœ€è¦åˆ¤æ–­å½“å‰æ˜¯å¦è¿æ¥ç½‘ç»œ, WiFi æˆ– ç§»åŠ¨æ•°æ®è¿æ¥åˆ¤æ–­çš„éœ€æ±‚,</p><p><strong>ç¬¬ä¸€ç§æ–¹æ³•: </strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">WifiManager wifiManager = (WifiManager) getSystemService(WIFI_SERVICE);  </span><br><span class="line">WifiInfo wifiInfo = wifiManager.getConnectionInfo();  </span><br><span class="line"><span class="keyword">int</span> ipAddress = wifiInfo.getIpAddress();</span><br></pre></td></tr></table></figure><p>é€šè¿‡è¿™ç§æ–¹å¼è·å–åˆ°çš„ IP åœ°å€ä¸ºä¸€ä¸²æ•°å­—,æˆ‘ä»¬å¹¶ä¸èƒ½çœ‹æ‡‚,å› æ­¤æˆ‘ä»¬éœ€è¦é€šè¿‡ä¸‹é¢çš„æ–¹æ³•è¿›è¡Œè½¬æ¢:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String ip = (ipAddress &amp; 0xff) + &quot;.&quot; + (ipAddress&gt;&gt;8 &amp; 0xff) + &quot;.&quot; + (ipAddress&gt;&gt;16 &amp; 0xff) + &quot;.&quot; + (ipAddress &gt;&gt; 24 &amp; 0xff);</span><br></pre></td></tr></table></figure><p>è¿™æ ·è½¬æ¢ä¹‹å,æˆ‘ä»¬è·å–åˆ°çš„ IP åœ°å€å°±æ˜¯æˆ‘ä»¬å¹³æ—¶è®¤è¯†çš„, æ¯”å¦‚: 192.168.1.108</p><p>è¿™ç§æ–¹æ³•åœ¨é£è¡Œæ¨¡å¼ä¸‹è·å–åˆ°çš„ IP åœ°å€ä¸º 0.0.0.0</p><p><strong>ç¬¬äºŒç§æ–¹æ³•:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">  public String getLocalIpAddress() &#123;  </span><br><span class="line">    try &#123;  </span><br><span class="line">        for (Enumeration&lt;NetworkInterface&gt; en = NetworkInterface.getNetworkInterfaces(); en.hasMoreElements();) &#123;  </span><br><span class="line">            NetworkInterface intf = en.nextElement();  </span><br><span class="line">            for (Enumeration&lt;InetAddress&gt; enumIpAddr = intf.getInetAddresses(); enumIpAddr.hasMoreElements();) &#123;  </span><br><span class="line">                InetAddress inetAddress = enumIpAddr.nextElement();  </span><br><span class="line">                if (!inetAddress.isLoopbackAddress()) &#123;  </span><br><span class="line">                    return inetAddress.getHostAddress().toString();  </span><br><span class="line">                &#125;  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125; catch (SocketException ex) &#123;  </span><br><span class="line">        Log.e(LOG_TAG, ex.toString());  </span><br><span class="line">    &#125;  </span><br><span class="line">    return null;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒç§æ–¹å¼æ˜¯æ¯”è¾ƒé€šç”¨çš„,åœ¨WiFiå’Œ3G/4G çŠ¶æ€ä¸‹,éƒ½å¯ä»¥è·å–åˆ°æ­£ç¡®çš„åœ°å€.æ¯”å¦‚: fe80::8e3a:e3ff:fe45:a018</p><p>è¿™ç§æ–¹æ³•åœ¨æ‰‹æœºå¤„äºé£è¡ŒçŠ¶æ€ä¸‹æ—¶, è·å–åˆ°çš„ IP åœ°å€ä¸º null</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å¼€å‘ä¸­ç»å¸¸ä¼šéœ€è¦åˆ¤æ–­å½“å‰æ˜¯å¦è¿æ¥ç½‘ç»œ, WiFi æˆ– ç§»åŠ¨æ•°æ®è¿æ¥åˆ¤æ–­çš„éœ€æ±‚,&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¬¬ä¸€ç§æ–¹æ³•: &lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;
      
    
    </summary>
    
    
      <category term="Android" scheme="http://xiaoman.ren/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>äº‹ä»¶åˆ†å‘</title>
    <link href="http://xiaoman.ren/2019/04/16/%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91/"/>
    <id>http://xiaoman.ren/2019/04/16/äº‹ä»¶åˆ†å‘/</id>
    <published>2019-04-16T09:46:00.000Z</published>
    <updated>2019-04-17T13:54:43.583Z</updated>
    
    <content type="html"><![CDATA[<h1 id="äº‹ä»¶åˆ†å‘"><a href="#äº‹ä»¶åˆ†å‘" class="headerlink" title="äº‹ä»¶åˆ†å‘"></a>äº‹ä»¶åˆ†å‘</h1><p><strong>äº‹ä»¶åˆ†å‘çš„ä¸‰ä¸ªæ–¹æ³•</strong></p><ol><li><p>dispatchTouchEvent(MotionEvent event) </p><p> åˆ¤æ–­å½“å‰ View æ˜¯å¦è¦æ¶ˆè´¹æ­¤äº‹ä»¶ï¼Œæ¶ˆè´¹ï¼Œåˆ™ä¸å†å‘ä¸‹ä¼ é€’ï¼Œåä¹‹ä¼ é€’ï¼Œä»¥æ­¤æ¥åˆ†å‘äº‹ä»¶ï¼›</p></li><li><p>onInterceptTouchEvent(MotionEvent event) </p><p> é€šè¿‡ dispatchTouchEvent è°ƒç”¨ï¼Œ è¿”å›å€¼ç”¨æ¥åˆ¤æ–­å½“å‰ View æ˜¯å¦è¦æ¶ˆè´¹äº‹ä»¶ï¼›</p></li><li><p>onTouchEvent(MotionEvent event) </p><p> å½“ View å†³å®šæ¶ˆè´¹äº‹ä»¶ï¼Œåˆ™å°†è¿›è¡Œè¯¥æ–¹æ³•çš„è°ƒç”¨ï¼Œä¾æ®å…·ä½“çš„äº‹ä»¶ï¼ŒåŠå…·ä½“ä¸šåŠ¡ï¼Œå®ç°ä¸åŒçš„äº‹ä»¶ã€‚</p></li></ol><a id="more"></a><p><strong>å…³äºäº‹ä»¶åˆ†å‘çš„ä¸€äº›ç»“è®ºï¼š</strong></p><ol><li>åŒä¸€ä¸ªäº‹ä»¶åºåˆ—æ˜¯æŒ‡ä»æ‰‹æŒ‡æ¥è§¦å±å¹•çš„é‚£ä¸€åˆ»èµ·ï¼Œåˆ°æ‰‹æŒ‡ç¦»å¼€å±å¹•çš„é‚£ä¸€åˆ»ç»“æŸï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æ‰€äº§ç”Ÿçš„ä¸€ç³»åˆ—äº‹ä»¶ï¼Œè¿™ä¸ªäº‹ä»¶ç³»åˆ—ä»¥ down äº‹ä»¶å¼€å§‹ï¼Œ ä¸­é—´å«æœ‰è‹¥å¹²ä¸ª move äº‹ä»¶ï¼Œ æœ€ç»ˆä»¥ up äº‹ä»¶ç»“æŸï¼›</li><li>æ­£å¸¸æƒ…å†µä¸‹ï¼Œä¸€ä¸ªäº‹ä»¶åºåˆ—åªèƒ½è¢«ä¸€ä¸ª View æ‹¦æˆªä¸”æ¶ˆè€—ã€‚è¿™ä¸€å¥—å“¦çš„åŸå› å¯ä»¥å‚è€ƒ 3ï¼Œ å› ä¸ºä¸€æ—¦ä¸€ä¸ªå…ƒç´ æ‹¦æˆªäº†æŸä¸ªäº‹ä»¶ï¼Œé‚£ä¹ˆåŒä¸€ä¸ªäº‹ä»¶åºåˆ—å†…çš„æ‰€æœ‰äº‹ä»¶éƒ½ä¼šç›´æ¥äº¤ç»™å®ƒå¤„ç†ï¼Œå› æ­¤åŒä¸€ä¸ªäº‹ä»¶åºåˆ—ä¸­çš„äº‹ä»¶ä¸èƒ½åˆ†åˆ«ç”±ä¸¤ä¸ª View åŒæ—¶å¤„ç†ï¼Œä½†æ˜¯é€šè¿‡ç‰¹æ®Šæ‰‹æ®µå¯ä»¥åšåˆ°ï¼Œæ¯”å¦‚ä¸€ä¸ª View å°†æœ¬è¯¥è‡ªå·±å¤„ç†çš„äº‹ä»¶ï¼Œé€šè¿‡ onTouchEventå¼ºè¡Œä¼ é€’ç»™å…¶ä»– View å¤„ç†ï¼›</li><li>æŸä¸ª View ä¸€æ—¦å†³å®šæ‹¦æˆªï¼Œé‚£ä¹ˆè¿™ä¸€ä¸ªäº‹ä»¶åºåˆ—éƒ½åªèƒ½ç”±å®ƒæ¥å¤„ç†ï¼ˆå¦‚æœèƒ½ä¼ é€’åˆ°ä»–çš„è¯ï¼‰ï¼Œå¹¶ä¸”å®ƒçš„ onInterceptTouchEvent ä¸ä¼šå†è¢«è°ƒç”¨ã€‚</li><li>æŸä¸ª View ä¸€æ—¦å¼€å§‹å¤„ç†äº‹ä»¶ï¼Œå¦‚æœå®ƒä¸æ¶ˆè€— ACTION_DOWN äº‹ä»¶ï¼ˆonTouchEvent è¿”å› falseï¼‰ï¼Œ é‚£ä¹ˆåŒä¸€äº‹ä»¶åºåˆ—ä¸­çš„å…¶ä»–äº‹ä»¶éƒ½ä¸ä¼šå†äº¤ç»™å®ƒæ¥å¤„ç†ï¼Œå¹¶ä¸”äº‹ä»¶å°†ä¼šé‡æ–°äº¤ç”±å®ƒçš„çˆ¶å…ƒç´ å»å¤„ç†ï¼Œå³çˆ¶å…ƒç´ çš„ onTouchEvent ä¼šè¢«è°ƒç”¨ï¼Œæ„æ€å°±æ˜¯äº‹ä»¶ä¸€æ—¦äº¤ç”±ä¸€ä¸ª View å¤„ç†ï¼Œé‚£ä¹ˆå®ƒå°±å¿…é¡»æ¶ˆè€—æ‰ï¼Œå¦åˆ™åŒä¸€äº‹ä»¶åºåˆ—ä¸­çš„å‰©ä¸‹çš„äº‹ä»¶å°±ä¸åœ¨äº¤ç»™ä»–æ¥å¤„ç†äº†ã€‚</li><li>å¦‚æœ View ä¸æ¶ˆè€—é™¤ ACTION_DOWN ä»¥å¤–çš„å…¶ä»–äº‹ä»¶ï¼Œ é‚£ä¹ˆè¿™ä¸ªç‚¹å‡»äº‹ä»¶ä¼šæ¶ˆå¤±ï¼Œæ­¤æ—¶çˆ¶å…ƒç´ çš„ onTouchEvent å¹¶ä¸ä¼šè¢«è°ƒç”¨ï¼Œå¹¶ä¸”å½“å‰ View å¯ä»¥æŒç»­å—åˆ°åç»­çš„äº‹ä»¶ï¼Œæœ€ç»ˆè¿™äº›æ¶ˆå¤±çš„ç‚¹å‡»äº‹ä»¶ä¼šä¼ é€’ç»™ Activity å¤„ç†ã€‚</li><li>ViewGroup é»˜è®¤ä¸æ‹¦æˆªä»»ä½•äº‹ä»¶ï¼ŒAndroid æºç ä¸­ ViewGroup çš„ onInterceptTouchEvent æ–¹æ³•é»˜è®¤è¿”å› falseã€‚</li><li>View æ²¡æœ‰ onInterceptTouchEvent æ–¹æ³•ï¼Œä¸€æ—¦æœ‰ç‚¹å‡»äº‹ä»¶ä¼ é€’ç»™ä»–ï¼Œé‚£ä¹ˆä»–çš„ onTouchEvent æ–¹æ³•å°±ä¼šè¢«è°ƒç”¨ã€‚</li><li>View çš„ onTouchEvent æ–¹æ³•é»˜è®¤ä¼šæ¶ˆè€—æ‰äº‹ä»¶ï¼ˆè¿”å› trueï¼‰ï¼Œé™¤éä»–æ˜¯ä¸å¯ç‚¹å‡»çš„ï¼ˆclickable å’Œ longClickable åŒæ—¶ä¸º falseï¼‰ã€‚View çš„ longClickable å±æ€§é»˜è®¤éƒ½æ˜¯ falseï¼Œclickable å±æ€§è¦åˆ†æƒ…å†µï¼Œæ¯”å¦‚ Button çš„ clickable å±æ€§é»˜è®¤æ˜¯ trueï¼Œè€Œ TextView çš„ clickable é»˜è®¤æœª falseã€‚</li><li>View çš„ enable å±æ€§ä¸å½±å“ onTouchEvent çš„é»˜è®¤è¿”å›å€¼ï¼Œå“ªæ€•ä¸€ä¸ª View æ˜¯ disable çŠ¶æ€ï¼Œåªè¦ä»–çš„ clickable æˆ–è€… longClickable æœ‰ä¸€ä¸ªä¸º trueï¼Œ é‚£ä¹ˆä»–çš„ onTouchEvent å°±è¿”å›trueã€‚</li><li>onClick ä¼šå‘ç”Ÿçš„å‰ææ˜¯ View æ˜¯å¯ç‚¹å‡»çš„ï¼Œå¹¶ä¸”å®ƒæ”¶åˆ°äº† down å’Œ up äº‹ä»¶ã€‚</li><li>äº‹ä»¶ä¼ é€’è¿‡ç¨‹æ˜¯æœ‰å¤–å‘å†…çš„ï¼Œå³äº‹ä»¶æ€»æ˜¯å…ˆä¼ é€’ç»™çˆ¶å…ƒç´ ï¼Œç„¶ååœ¨ç”±çˆ¶å…ƒç´ åˆ†å‘ç»™å­ Viewï¼Œé€šè¿‡ requestDisallowInterceptTouchEvent æ–¹æ³•å¯ä»¥åœ¨å­å…ƒç´ ä¸­å¹²é¢„çˆ¶å…ƒç´ çš„äº‹ä»¶åˆ†å‘è¿‡ç¨‹ï¼Œä½†æ˜¯ ACTION_DOWN äº‹ä»¶é™¤å¤–ï¼ˆ<em>è§£å†³æ»‘åŠ¨å†²çªï¼Œå†…éƒ¨æ‹¦æˆªæ³•</em>ï¼‰ã€‚</li><li>äº‹ä»¶çš„ä¼ é€’è¿‡ç¨‹ï¼šActivity -&gt; Window(PhoneWindow) -&gt; View -&gt; dispatchTouchEvent -&gt; onInterceptTouchEvent -&gt; onTouchEventã€‚</li><li>å½“ä¸€ä¸ª View éœ€è¦å¤„ç†äº‹ä»¶æ—¶ï¼Œå¦‚æœå®ƒè®¾ç½®äº† onTouchListenerï¼Œé‚£ä¹ˆ onTouchListener ä¸­çš„ onTouch æ–¹æ³•ä¼šè¢«å›è°ƒã€‚è¿™æ—¶äº‹ä»¶å¦‚ä½•å¤„ç†è¦çœ‹ onTouch çš„è¿”å›å€¼ï¼Œè¿”å› falseï¼Œåˆ™å½“å‰ View çš„ onTouchEvent è¢«è°ƒç”¨ï¼Œtrueï¼Œ åˆ™ä¸è°ƒç”¨ã€‚View çš„ onTouchListener æ–¹æ³•ä¼˜å…ˆçº§é«˜äº onTouchEventï¼›onClickListenerï¼ˆéœ€è¦å®Œæˆæœ‰ up æ“ä½œï¼‰ æ–¹æ³•åœ¨ onTouchEvent ä¸­è¢«è°ƒç”¨ï¼Œå› æ­¤ï¼ŒonClickListener å¤„äºäº‹ä»¶ä¼ é€’çš„å°¾ç«¯ã€‚</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;äº‹ä»¶åˆ†å‘&quot;&gt;&lt;a href=&quot;#äº‹ä»¶åˆ†å‘&quot; class=&quot;headerlink&quot; title=&quot;äº‹ä»¶åˆ†å‘&quot;&gt;&lt;/a&gt;äº‹ä»¶åˆ†å‘&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;äº‹ä»¶åˆ†å‘çš„ä¸‰ä¸ªæ–¹æ³•&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;dispatchTouchEvent(MotionEvent event) &lt;/p&gt;
&lt;p&gt; åˆ¤æ–­å½“å‰ View æ˜¯å¦è¦æ¶ˆè´¹æ­¤äº‹ä»¶ï¼Œæ¶ˆè´¹ï¼Œåˆ™ä¸å†å‘ä¸‹ä¼ é€’ï¼Œåä¹‹ä¼ é€’ï¼Œä»¥æ­¤æ¥åˆ†å‘äº‹ä»¶ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;onInterceptTouchEvent(MotionEvent event) &lt;/p&gt;
&lt;p&gt; é€šè¿‡ dispatchTouchEvent è°ƒç”¨ï¼Œ è¿”å›å€¼ç”¨æ¥åˆ¤æ–­å½“å‰ View æ˜¯å¦è¦æ¶ˆè´¹äº‹ä»¶ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;onTouchEvent(MotionEvent event) &lt;/p&gt;
&lt;p&gt; å½“ View å†³å®šæ¶ˆè´¹äº‹ä»¶ï¼Œåˆ™å°†è¿›è¡Œè¯¥æ–¹æ³•çš„è°ƒç”¨ï¼Œä¾æ®å…·ä½“çš„äº‹ä»¶ï¼ŒåŠå…·ä½“ä¸šåŠ¡ï¼Œå®ç°ä¸åŒçš„äº‹ä»¶ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="Android" scheme="http://xiaoman.ren/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>Android åœ¨ä¸€ä¸ªåº”ç”¨ä¸­å¯åŠ¨å¦å¤–ä¸€ä¸ªåº”ç”¨</title>
    <link href="http://xiaoman.ren/2019/04/16/Android-%E5%9C%A8%E4%B8%80%E4%B8%AA%E5%BA%94%E7%94%A8%E4%B8%AD%E5%90%AF%E5%8A%A8%E5%8F%A6%E5%A4%96%E4%B8%80%E4%B8%AA%E5%BA%94%E7%94%A8/"/>
    <id>http://xiaoman.ren/2019/04/16/Android-åœ¨ä¸€ä¸ªåº”ç”¨ä¸­å¯åŠ¨å¦å¤–ä¸€ä¸ªåº”ç”¨/</id>
    <published>2019-04-16T09:45:20.000Z</published>
    <updated>2019-04-17T13:56:42.353Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Android-åœ¨ä¸€ä¸ªåº”ç”¨ä¸­å¯åŠ¨å¦å¤–ä¸€ä¸ªåº”ç”¨"><a href="#Android-åœ¨ä¸€ä¸ªåº”ç”¨ä¸­å¯åŠ¨å¦å¤–ä¸€ä¸ªåº”ç”¨" class="headerlink" title="Android åœ¨ä¸€ä¸ªåº”ç”¨ä¸­å¯åŠ¨å¦å¤–ä¸€ä¸ªåº”ç”¨"></a>Android åœ¨ä¸€ä¸ªåº”ç”¨ä¸­å¯åŠ¨å¦å¤–ä¸€ä¸ªåº”ç”¨</h1><p>Android ä¸­,ä»å½“å‰ APP å¯åŠ¨å¦å¤–ä¸€ä¸ª APP çš„éœ€æ±‚,ä¸æ˜¯å¾ˆå¸¸è§, ä½†ç¡®å®å­˜åœ¨ç€,æ¯”å¦‚è¯´åœ¨æŸå®è¿˜æ²¡æœ‰ç°åœ¨è¿™ä¹ˆå¼ºå¤§æ—¶,æ”¯ä»˜éœ€è¦å¯åŠ¨ä»–ä»¬çš„ APP. å†æ¯”å¦‚è¯´,æŸç±³çš„é’±åŒ…ç³»ç»Ÿ,éœ€è¦å’Œä»–ä»¬çš„é‡‘è APP åœ¨æŸäº›ä¸šåŠ¡ä¸Šæ˜¯ç›¸äº’ä¾èµ–çš„,éœ€è¦ç›¸äº’å¯åŠ¨.</p><p>ç»¼ä¸Šæ‰€è¿°, ä»ä¸€ä¸ª APP å»å¯åŠ¨å¦å¤–ä¸€ä¸ª APP çš„éœ€æ±‚è¿˜æ˜¯æœ‰å®ƒå­˜åœ¨çš„ä»·å€¼.å› æ­¤,ä¸€ä¸‹æ˜¯æˆ‘åœ¨å·¥ä½œå’Œå­¦ä¹ ä¸­æ€»ç»“çš„å¦‚ä½•é€šè¿‡ä¸€ä¸ª APP å»å¯åŠ¨å¦å¤–ä¸€ä¸ª APP çš„æ–¹å¼.</p><a id="more"></a><h2 id="1-é€šè¿‡-APP-å¯åŠ¨å¦ä¸€ä¸ª-APP"><a href="#1-é€šè¿‡-APP-å¯åŠ¨å¦ä¸€ä¸ª-APP" class="headerlink" title="1. é€šè¿‡ APP å¯åŠ¨å¦ä¸€ä¸ª APP"></a>1. é€šè¿‡ APP å¯åŠ¨å¦ä¸€ä¸ª APP</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String packageName = &quot;com.android.calendar&quot;;</span><br><span class="line">Intent intent = getPackageManager().getLaunchIntentForPackage(packageName);</span><br><span class="line">intent.putExtra(&quot;type&quot;, true);</span><br><span class="line">startActivity(intent);</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç ,å°±å¯ä»¥å®Œæˆä»ä¸€ä¸ª APP å¯åŠ¨å¦ä¸€ä¸ª APP çš„ä¸šåŠ¡éœ€æ±‚, è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯,æˆ‘ä»¬éœ€è¦æ£€æµ‹ä¸€ä¸‹è¦å¯åŠ¨çš„ APP æ˜¯å¦å·²ç»å®‰è£…,å¦‚æœåº”ç”¨æœªå®‰è£…, åˆ™ä¼š NullPointException.</p><p>é€šè¿‡è¿™ç§æ–¹å¼, Android è™šæ‹Ÿæœºä¼šè‡ªå·±åœ¨ç›®æ ‡ APP ä¸‹å¯»æ‰¾æ ‡ç­¾ä¸º <code>android.intent.action.MAIN</code> çš„ Activity å¯åŠ¨.</p><p>è¿™é‡Œä»‹ç»ä¸¤ç§æ–¹å¼,æ£€æµ‹ç›®æ ‡åº”ç”¨æ˜¯å¦å·²ç»å®‰è£…</p><p><strong> æ–¹æ³•ä¸€: </strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Intent intent = getPackageName().getLaunchIntentForPackage(packageName);</span><br><span class="line">if (intent == null) &#123;</span><br><span class="line">  // è¿™é‡Œåˆ¤æ–­ Intent ä¸ºç©º, è¯´æ˜åº”ç”¨ä¸å­˜åœ¨ </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ–¹æ³•äºŒ:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">PackageInfo packageInfo = getPackageManager(0.getPackageInfo(packageName, 0);</span><br><span class="line">if (packageInfo == null) &#123;</span><br><span class="line">    // è¿™é‡Œå¦‚æœ packageInfo ä¸º null, è¯´æ˜åº”ç”¨ä¸å­˜åœ¨</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-æ‰“å¼€å¦å¤–ä¸€ä¸ª-APP-æŒ‡å®šçš„-Activity"><a href="#2-æ‰“å¼€å¦å¤–ä¸€ä¸ª-APP-æŒ‡å®šçš„-Activity" class="headerlink" title="2. æ‰“å¼€å¦å¤–ä¸€ä¸ª APP æŒ‡å®šçš„ Activity"></a>2. æ‰“å¼€å¦å¤–ä¸€ä¸ª APP æŒ‡å®šçš„ Activity</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Intent intent = new Intent();</span><br><span class="line">ComponentName componeneName = new ComponeneName(&quot;com.android.calendar&quot;, &quot;com.android.calendar.LaunchActivity&quot;);</span><br><span class="line">intent.setComponent(componeneName);</span><br><span class="line">startActivity(intent);</span><br></pre></td></tr></table></figure><p>å€¼å¾—æ³¨æ„: </p><ul><li>éœ€è¦å°†ç›®æ ‡ Activity çš„ android:export=â€trueâ€ å±æ€§åœ¨æ‰€å±åº”ç”¨çš„ AndroidMainfest é‡Œè®¾ç½®ä¸º true, æ„æ€æ˜¯å½“å‰ Activity å…è®¸è¢«å¤–éƒ¨åº”ç”¨è®¿é—®, å¦åˆ™ä¼šæŠ¥é”™</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Caused by: java.lang.SecurityException: Permission Denial: starting  Intent </span><br><span class="line">&#123; cmp=com.example.fm/.MainFragmentActivity (has extras) &#125; from ProcessRecord</span><br><span class="line">&#123;39282a97 11545:com.xing.toolbardemo1/u0a71&#125;  (pid=11545,     uid=10071) not exported from uid 10067</span><br></pre></td></tr></table></figure><ul><li>åœ¨ 5.0 ä»¥å‰çš„è®¾å¤‡ä¸Š,éœ€è¦åœ¨å½“å‰çš„ AndroidMainfest é‡Œä¹Ÿç”Ÿå‘½ç›®æ ‡Activity, å¦åˆ™ä¼šæŠ¥é”™; ä½†åœ¨ 5.0 ä»¥åçš„è®¾å¤‡ä¸Š,å°±ä¸ä¼šæŠ¥é”™å“¦</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">  Caused by: android.content.ActivityNotFoundException: Unable to find explicit activity class &#123;com.example.fm/com.example.fm.MainFragmentActivity&#125;; </span><br><span class="line">have you declared this activity in your AndroidManifest.xml?</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Android-åœ¨ä¸€ä¸ªåº”ç”¨ä¸­å¯åŠ¨å¦å¤–ä¸€ä¸ªåº”ç”¨&quot;&gt;&lt;a href=&quot;#Android-åœ¨ä¸€ä¸ªåº”ç”¨ä¸­å¯åŠ¨å¦å¤–ä¸€ä¸ªåº”ç”¨&quot; class=&quot;headerlink&quot; title=&quot;Android åœ¨ä¸€ä¸ªåº”ç”¨ä¸­å¯åŠ¨å¦å¤–ä¸€ä¸ªåº”ç”¨&quot;&gt;&lt;/a&gt;Android åœ¨ä¸€ä¸ªåº”ç”¨ä¸­å¯åŠ¨å¦å¤–ä¸€ä¸ªåº”ç”¨&lt;/h1&gt;&lt;p&gt;Android ä¸­,ä»å½“å‰ APP å¯åŠ¨å¦å¤–ä¸€ä¸ª APP çš„éœ€æ±‚,ä¸æ˜¯å¾ˆå¸¸è§, ä½†ç¡®å®å­˜åœ¨ç€,æ¯”å¦‚è¯´åœ¨æŸå®è¿˜æ²¡æœ‰ç°åœ¨è¿™ä¹ˆå¼ºå¤§æ—¶,æ”¯ä»˜éœ€è¦å¯åŠ¨ä»–ä»¬çš„ APP. å†æ¯”å¦‚è¯´,æŸç±³çš„é’±åŒ…ç³»ç»Ÿ,éœ€è¦å’Œä»–ä»¬çš„é‡‘è APP åœ¨æŸäº›ä¸šåŠ¡ä¸Šæ˜¯ç›¸äº’ä¾èµ–çš„,éœ€è¦ç›¸äº’å¯åŠ¨.&lt;/p&gt;
&lt;p&gt;ç»¼ä¸Šæ‰€è¿°, ä»ä¸€ä¸ª APP å»å¯åŠ¨å¦å¤–ä¸€ä¸ª APP çš„éœ€æ±‚è¿˜æ˜¯æœ‰å®ƒå­˜åœ¨çš„ä»·å€¼.å› æ­¤,ä¸€ä¸‹æ˜¯æˆ‘åœ¨å·¥ä½œå’Œå­¦ä¹ ä¸­æ€»ç»“çš„å¦‚ä½•é€šè¿‡ä¸€ä¸ª APP å»å¯åŠ¨å¦å¤–ä¸€ä¸ª APP çš„æ–¹å¼.&lt;/p&gt;
    
    </summary>
    
    
      <category term="Android" scheme="http://xiaoman.ren/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>Android Studio Dependencies Library Resolve</title>
    <link href="http://xiaoman.ren/2019/04/16/Android-Studio-Dependencies-Library-Resolve/"/>
    <id>http://xiaoman.ren/2019/04/16/Android-Studio-Dependencies-Library-Resolve/</id>
    <published>2019-04-16T09:44:39.000Z</published>
    <updated>2019-04-17T13:55:09.517Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨ä½¿ç”¨ Android Studio å¼€å‘æ—¶,ä½¿ç”¨ Gradle è„šæœ¬æ„å»ºé¡¹ç›®, åŒ Maven ä¸€æ ·,æ‰€å¼•ç”¨çš„åŒ…ä¹‹é—´ä¹Ÿå­˜åœ¨ç€ç›¸äº’ä¾èµ–çš„å…³ç³», å½“ä½ ä½¿ç”¨æŸä¸ªåŒ…ä¹‹å,å‘ç°æœ‰åŒ…ç‰ˆæœ¬å†²çª, é‚£ä¹ˆè§£å†³æ–¹æ¡ˆå°±æ¥äº†.</p><p>å…ˆè¯´ç‚¹ä¸æ­£ç»çš„:</p><ol><li>ä½ å¯ä»¥æŠŠä½ è‡ªå·±å¼•å…¥çš„åŒ…å»æ‰,ä½¿ç”¨ä¾èµ–åŒ…</li><li>æ”¾å¼ƒæ²»ç–—</li></ol><p>å“ˆå“ˆ,è¨€å½’æ­£ä¼ :</p><p>å½“æˆ‘ä»¬å¼•å…¥çš„åŒ…ä¹‹é—´å­˜åœ¨å†²çª(ä¸æ˜¯åŒä¸€ä¸ª)çš„å…³ç³»æ—¶, ä¹Ÿå°±æ˜¯è¯´,æˆ‘ä»¬éœ€è¦ä¿ç•™ä¸€ä¸ªé¡¹ç›®ä¾èµ–åŒ…ä½¿ç”¨,é‚£ä¹ˆæˆ‘ä»¬éœ€è¦åœ¨ <code>build.gradle</code> ä¸­å°†æˆ‘ä»¬ä¸éœ€è¦çš„åŒ…åˆ é™¤æ‰.</p><h2 id="ä¸¾ä¸ªæ —å­"><a href="#ä¸¾ä¸ªæ —å­" class="headerlink" title="ä¸¾ä¸ªæ —å­:"></a>ä¸¾ä¸ªæ —å­:</h2><p>å½“æˆ‘ä½¿ç”¨ <code>com.squareup.retrofit2:adapter-rxjava:2.1.0</code> æ—¶, å®ƒé»˜è®¤ä¾èµ–ä½¿ç”¨ <code>RxJava 1.5.0</code> ç‰ˆæœ¬. å½“æˆ‘ä½¿ç”¨ <code>io.reactivex.rxjava2:rxjava:2.0.6</code> æ—¶, å°±ä¼šå¼•èµ·åŒ…å†²çª.</p><h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ:"></a>è§£å†³æ–¹æ¡ˆ:</h2><p>build.gradle</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">...</span><br><span class="line">dependencies &#123;</span><br><span class="line">    compile fileTree(include: [&apos;*.jar&apos;], dir: &apos;libs&apos;)</span><br><span class="line"></span><br><span class="line">    compile (&apos;com.squareup.retrofit2:adapter-rxjava:2.1.0&apos;)&#123;</span><br><span class="line">        exclude group: &apos;io.reactivex&apos;</span><br><span class="line">    &#125;</span><br><span class="line">    compile &apos;io.reactivex.rxjava2:rxjava:2.0.6&apos;</span><br><span class="line">    compile &apos;io.reactivex.rxjava2:rxandroid:2.0.1&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åœ¨ä½¿ç”¨ Android Studio å¼€å‘æ—¶,ä½¿ç”¨ Gradle è„šæœ¬æ„å»ºé¡¹ç›®, åŒ Maven ä¸€æ ·,æ‰€å¼•ç”¨çš„åŒ…ä¹‹é—´ä¹Ÿå­˜åœ¨ç€ç›¸äº’ä¾èµ–çš„å…³ç³», å½“ä½ ä½¿ç”¨æŸä¸ªåŒ…ä¹‹å,å‘ç°æœ‰åŒ…ç‰ˆæœ¬å†²çª, é‚£ä¹ˆè§£å†³æ–¹æ¡ˆå°±æ¥äº†.&lt;/p&gt;
&lt;p&gt;å…ˆè¯´ç‚¹ä¸æ­£ç»çš„:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä½ å¯ä»¥æŠŠä½ 
      
    
    </summary>
    
    
      <category term="Android" scheme="http://xiaoman.ren/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>git command</title>
    <link href="http://xiaoman.ren/2019/04/16/git-command/"/>
    <id>http://xiaoman.ren/2019/04/16/git-command/</id>
    <published>2019-04-16T09:43:58.000Z</published>
    <updated>2019-05-10T14:42:12.384Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Git-å‘½ä»¤"><a href="#Git-å‘½ä»¤" class="headerlink" title="Git å‘½ä»¤"></a>Git å‘½ä»¤</h1><table><thead><tr><th style="text-align:center">ä¿®æ”¹è®°å½•</th><th style="text-align:center">ä¿®æ”¹æ—¶é—´</th><th style="text-align:center">å¤‡æ³¨</th></tr></thead><tbody><tr><td style="text-align:center">æ·»åŠ åˆ é™¤è¿œç¨‹åˆ†æ”¯</td><td style="text-align:center">2018å¹´07æœˆ26æ—¥13:59:22</td><td style="text-align:center">åˆ é™¤è¿œç¨‹åˆ†æ”¯å‘½ä»¤</td></tr><tr><td style="text-align:center">æ›´æ–°forkä»“åº“</td><td style="text-align:center">2018å¹´08æœˆ10æ—¥14:16:08</td><td style="text-align:center">æ·»åŠ forkçš„ä»“åº“ï¼Œä»ä¸»ä»“åº“æ›´æ–°ä»£ç çš„å‘½ä»¤</td></tr></tbody></table><p>æ•´ç†çš„è¿˜ä¸å¤Ÿå®Œå–„ï¼Œä»¥åå·¥ä½œä¸­é‡åˆ°äº†ä¼šä¸æ–­è¡¥è¿›ï¼Œå¦‚æœ‰å¤§ç¥ï¼Œæœ‰å¯ä»¥ç•™è¨€ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥å®Œå–„ã€‚æ¬¢è¿å„ä½ç•™è¨€^_^</p><a id="more"></a><h2 id="Git-æ–‡ä»¶çš„ä¸‰ç§çŠ¶æ€"><a href="#Git-æ–‡ä»¶çš„ä¸‰ç§çŠ¶æ€" class="headerlink" title="Git æ–‡ä»¶çš„ä¸‰ç§çŠ¶æ€"></a>Git æ–‡ä»¶çš„ä¸‰ç§çŠ¶æ€</h2><ol><li>å·²æäº¤ï¼šè¡¨ç¤ºè¯¥æ–‡ä»¶å·²ç»è¢«å®‰å…¨åœ°ä¿å­˜åœ¨æœ¬åœ°ç‰ˆæœ¬åº“ä¸­ï¼Œæ‰§è¡Œè¿‡git commitã€‚</li><li>å·²ä¿®æ”¹ï¼šè¡¨ç¤ºä¿®æ”¹äº†æŸä¸ªæ–‡ä»¶ï¼Œä½†è¿˜æ²¡æœ‰æäº¤ä¿å­˜</li><li>å·²æš‚å­˜ï¼šè¡¨ç¤ºæŠŠå·²ä¿®æ”¹çš„æ–‡ä»¶æˆ¿å­å•Šä¸‹æ¬¡æäº¤æ—¶è¦ä¿å­˜çš„æ¸…å•ä¸­ï¼Œä¹Ÿå°±æ˜¯æ‰§è¡Œäº† git add å‘½ä»¤ã€‚</li></ol><h2 id="è¿œç¨‹ä»“åº“ä¸æœ¬åœ°ä»£ç çš„é…ç½®"><a href="#è¿œç¨‹ä»“åº“ä¸æœ¬åœ°ä»£ç çš„é…ç½®" class="headerlink" title="è¿œç¨‹ä»“åº“ä¸æœ¬åœ°ä»£ç çš„é…ç½®"></a>è¿œç¨‹ä»“åº“ä¸æœ¬åœ°ä»£ç çš„é…ç½®</h2><p>å°†æœ¬åœ°å·²ç»æœ‰çš„é¡¹ç›®ä¸Šä¼ åˆ°è¿œç¨‹ç©ºä»“åº“ä¸­</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cd &lt;project path&gt;</span><br><span class="line">git init</span><br><span class="line">git remote add origin &lt;è¿œç¨‹ä»“åº“åœ°å€&gt;</span><br><span class="line">git add .</span><br><span class="line">git commit -m &apos;æäº¤æ—¥å¿—&apos;</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure><h2 id="Git-åŸºæœ¬é…ç½®"><a href="#Git-åŸºæœ¬é…ç½®" class="headerlink" title="Git åŸºæœ¬é…ç½®"></a>Git åŸºæœ¬é…ç½®</h2><ol><li>é…ç½®ä¸ªäººçš„ç”¨æˆ·åç§°å’Œç”µå­é‚®ä»¶åœ°å€ï¼Œæ¯æ¬¡æäº¤æ—¶ï¼Œéƒ½ä¼šå¼•ç”¨è¿™ä¸¤æ¡ä¿¡æ¯ï¼Œä»¥ç”¨æ¥è¯´æ˜æ˜¯è°æäº¤çš„æ›´æ–°ã€‚</li></ol><p>ä½¿ç”¨ <code>--global</code> é€‰é¡¹ï¼Œæ›´æ”¹çš„æœªç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„é…ç½®ï¼Œå¦‚æœæƒ³åœ¨æŸä¸ªç‰¹å®šçš„é¡¹ç›®ä¸­ä½¿ç”¨å…¶ä»–çš„åç§°å’Œé‚®ä»¶ï¼Œåªéœ€è¦å»æ‰ <code>--global</code> é€‰é¡¹é‡æ–°é…ç½®ï¼Œæ–°çš„é…ç½®ä½äºå½“å‰é¡¹ç›®çš„ <code>.git/config</code> æ–‡ä»¶ä¸­ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &apos;&apos;yourname&apos;&apos;</span><br><span class="line">git config --global user.email  yourname@gmail.com</span><br></pre></td></tr></table></figure><ol start="2"><li>åŸºç¡€å‘½ä»¤</li></ol><blockquote><p>git init</p></blockquote><p>é€šè¿‡æ­¤å‘½ä»¤ä¼šåœ¨å½“å‰ç›®å½•åˆ›å»ºä¸€ä¸ª<code>.git</code>çš„éšè—ç›®å½•ï¼Œè¿™æ˜¯<code>git</code>çš„ç¬¬ä¸€æ­¥ã€‚</p><blockquote><p>git status</p></blockquote><p><code>git status</code>æ˜¯æœ€ä¸ºå¸¸ç”¨çš„å‘½ä»¤ä¹‹ä¸€ï¼Œç”¨äºæ£€æŸ¥æœ¬åœ°é¡¹ç›®çš„çŠ¶æ€.ä»”ç»†é˜…è¯»çº¢è‰²/ç»¿è‰²éƒ¨åˆ†ï¼Œå¯ä»¥è·å¾—ç›¸å…³æ–‡ä»¶çš„æ“ä½œä¿¡æ¯ï¼Œæ ¹æ®æç¤ºï¼Œåˆ¤æ–­æ˜¯æ‰§è¡Œ<code>git commit</code> è¿˜æ˜¯æ‰§è¡Œ<code>git add</code> æ“ä½œã€‚</p><blockquote><p>git add</p></blockquote><p>å°†ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶æ·»åŠ åˆ° <code>git</code>ä»“åº“ä¸­ï¼Œåªæœ‰é€šè¿‡ <code>git add</code> æ·»åŠ çš„æ–‡ä»¶æ‰ä¼šè¢«ç‰ˆæœ¬æ§åˆ¶ç®¡ç†ã€‚</p><p>æ·»åŠ å•ä¸ªæ–‡ä»¶ <code>git add HelloWorld2.java</code></p><p>æ·»åŠ å¤šä¸ªæ–‡ä»¶ <code>git add --a</code></p><p>æ·»åŠ å½“å‰ç›®å½•æ‰€æœ‰æ–‡ä»¶ <code>git add .</code></p><blockquote><p>git rm â€“cached <file></file></p></blockquote><p>å°†æ–‡ä»¶ä»<code>git</code>è¿½è¸ªåˆ—è¡¨ä¸­ç§»é™¤ï¼Œåªæ˜¯é€»è¾‘åˆ é™¤ï¼ˆä»ç‰ˆæœ¬åº“ä¸­ç§»é™¤ï¼‰ï¼Œå¹¶ä¸ä¼šå°†æœ¬åœ°æ–‡ä»¶åˆ é™¤</p><blockquote><p>git commit</p></blockquote><p>æ‰§è¡Œè¿‡ <code>git add</code> å‘½ä»¤åï¼Œéœ€è¦å°†æš‚å­˜çš„æ–‡ä»¶æäº¤åˆ°æœ¬åœ°ä»“åº“ä¸­ï¼Œæ­¤æ—¶æ˜¯çœŸæ­£çš„æäº¤</p><p>å¸¦ log çš„æäº¤ï¼š <code>git commit -m &#39;first commit&#39;</code></p><p>é€šè¿‡ç¼–è¾‘å™¨æäº¤: <code>git commit</code></p><p>å¸¦log çš„æäº¤æ¯”è¾ƒæ–¹ä¾¿ï¼Œä½†å½“ä½ çš„æäº¤ä¿¡æ¯æœ‰ä¸€å®šæ ¼å¼æˆ–è€…éœ€è¦æäº¤çš„æ–‡å­—å†…å®¹è¾ƒå¤šæ—¶ï¼Œä½¿ç”¨ç¼–è¾‘å™¨æ•ˆæœä¼šæ›´å¥½.</p><blockquote><p>git log</p></blockquote><p>æŸ¥çœ‹å†å²æäº¤è®°å½•ï¼Œ åŒ…æ‹¬<strong>æäº¤äºº</strong>ã€<strong>æ—¶é—´</strong>ã€<strong>ä¿¡æ¯</strong>ã€<strong>ä¿¡æ¯æŒ‡çº¹</strong>ç­‰.</p><p>æŸ¥çœ‹æäº¤è®°å½•ï¼š <code>git log</code></p><p>å•è¡Œå±•ç¤ºè®°å½•ï¼š <code>git log --pretty=oneline</code></p><p>å±•ç¤ºå…¨éƒ¨ä¿¡æ¯ï¼š <code>git log --pretty=fuller</code></p><blockquote><p>git clone &lt;è¿œç¨‹ä»“åº“åœ°å€&gt;</p></blockquote><p>æ‹‰å–è¿œç¨‹ä»“åº“ä»£ç ,æ­¤é¡¹ç›®å¹¶ä¸ä¸€å®šæ˜¯ä½ æ‰€åˆ›å»º</p><p>ä¾‹å¦‚ï¼š <code>git clone git@github.com:bboyfeiyu/AndroidEventBus.git</code></p><p>æ‰§è¡Œå®Œæˆåï¼Œä¼šåœ¨æœ¬åœ°å½“å‰ç›®å½•åˆ›å»ºä¸€ä¸ªAndroidEventBusçš„ç›®å½•æ¥å­˜æ”¾ä»“åº“ä»£ç </p><blockquote><p>git remote</p></blockquote><p>å°†æœ¬åœ°å·²ç»<code>init</code>è¿‡çš„å·¥ç¨‹é“¾æ¥åˆ°è¿œç¨‹çš„ç©ºä»“åº“ä¸­ï¼Œä»¥æ­¤æ¥å®Œæˆè¿œç¨‹ç‰ˆæœ¬åº“çš„åˆ›å»º</p><p>é“¾æ¥è¿œç¨‹ç‰ˆæœ¬åº“ï¼š <code>git remote add origin &lt;è¿œç¨‹åœ°å€&gt;</code></p><blockquote><p>git remote set-url &lt;ä»“åº“åœ°å€&gt;</p></blockquote><p>SSH å’Œ HTTPS æ–¹å¼åˆ‡æ¢</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># ssh to https</span><br><span class="line">$ git remote set-url origin https://github.com/USERNAME/repository.git</span><br><span class="line"># https to ssh</span><br><span class="line">$ git remote set-url origin git@github.com:USERNAME/repository.git</span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨ <code>git remote -v</code> æ¥æ£€æŸ¥å½“å‰ä»“åº“åœ°å€</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; origin git@github.com:username/repository.git (fetch)</span><br><span class="line">&gt; origin git@github.com:username/repository.git (push)</span><br></pre></td></tr></table></figure><p>SSH å’Œ HTTPS çš„åŒºåˆ«ï¼š</p><p>ä½¿ç”¨ SSH æ–¹å¼éœ€è¦åœ¨æœ¬åœ°é…ç½®ä¸€ä¸ªå¯†é’¥ï¼Œå…·ä½“å¯å‚è§<a href="https://xiaoman.ren/2019/04/17/%E5%A4%9A%E4%B8%AA-ssh-%E5%85%AC%E9%92%A5%E6%8F%90%E4%BA%A4%E4%BB%A3%E7%A0%81%E5%88%B0%E4%B8%8D%E5%90%8C%E5%B9%B3%E5%8F%B0/">å¤šä¸ª SSH å…¬é’¥æäº¤ä»£ç åˆ°ä¸åŒå¹³å°</a>ä¸­ä»‹ç»ï¼›<br>è€Œä½¿ç”¨ HTTPS çš„æ–¹å¼æ“ä½œç®€å•ï¼Œå¼Šç«¯æ˜¯éœ€è¦ç»å¸¸è¾“å…¥å¯†ç ã€‚</p><blockquote><p>git branch</p></blockquote><p>åˆ†æ”¯æ˜¯ç”¨æ¥ç®¡ç†ä»£ç ç‰ˆæœ¬ã€ç±»å‹çš„æœ‰æ•ˆå·¥å…·ï¼Œå¯æ ¹æ®ä¸åŒçš„æœåŠ¡å¯¹è±¡ã€ä¸åŒçš„ä¸Šçº¿ç‰ˆæœ¬ç­‰ç­‰ï¼Œæ¥åšä»£ç åˆ†ç¦»ï¼Œç‰ˆæœ¬ç®¡ç†æ“ä½œ</p><p>æŸ¥çœ‹åˆ†æ”¯ï¼š <code>git branch</code></p><p>æŸ¥çœ‹å¸¦æäº¤ä¿¡æ¯çš„åˆ†æ”¯ä¿¡æ¯ï¼š <code>git branch -v</code></p><p>åˆ›å»ºåˆ†æ”¯ï¼š <code>git branch &lt;åˆ†æ”¯åç§°&gt;</code></p><p>åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯ï¼š <code>git branch -b &lt;åˆ†æ”¯åç§°&gt;</code></p><p>åˆ‡æ¢åˆ†æ”¯ï¼š <code>git checkout &lt;åˆ†æ”¯åç§°&gt;</code></p><p>æ¨é€åˆ†æ”¯ï¼š <code>git push origin &lt;åˆ†æ”¯åç§°&gt;</code></p><p>åˆ é™¤åˆ†æ”¯ï¼š <code>git branch -d &lt;åˆ†æ”¯åç§°&gt;</code></p><p>åˆ é™¤è¿œç¨‹åˆ†æ”¯ï¼š <code>git push origin :&lt;åˆ†æ”¯åç§°&gt;</code></p><p>åˆå¹¶åˆ†æ”¯ï¼š <code>git merge &lt;åˆ†æ”¯åç§°&gt;</code></p><blockquote><p>git tag </p></blockquote><p>ä¼šåˆ—å‡ºæ‰€æœ‰çš„ <code>tag</code> æ ‡ç­¾ä¿¡æ¯</p><p>åœ¨å®Œæˆäº†æ‰€æœ‰åŠŸèƒ½ã€å¹¶ä¸”ç»è¿‡æµ‹è¯•ä¹‹åï¼Œå¯ä»¥å°æ¿ä¸Šçº¿çš„ç‰ˆæœ¬ï¼Œé€šå¸¸ä¼šæ‰“ä¸€ä¸ªæ ‡ç­¾ï¼Œ<strong><em>è¿™æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„åŠŸèƒ½</em></strong> </p><p>å»ºè®®æ¯æ¬¡ä¸Šçº¿éƒ½è¦åšä¸€æ¬¡ï¼Œä¾¿äºåç»­çš„ç‰ˆæœ¬æ£€ç´¢ä¸ç»´æŠ¤ï¼Œé€šå¸¸ä¸€ä¸ªæ ‡ç­¾å°±ä»£è¡¨äº†ä¸€ä¸ªæ­£å¼ç‰ˆæœ¬ã€‚</p><p>æŸ¥çœ‹æœ¬åœ°/è¿œç¨‹ tag æ ‡ç­¾ï¼š<code>git tag</code></p><p>æŸ¥çœ‹æ¨¡ç³Š tag æ ‡ç­¾ï¼š <code>git tag -l &#39;v1.4.2.*&#39;</code></p><p>æŸ¥çœ‹å¤‡æ³¨ tag æ ‡ç­¾ï¼š <code>git tag -ln</code></p><p>æŸ¥çœ‹æ ‡ç­¾ä¿¡æ¯ï¼š <code>git show &lt;æ ‡ç­¾å&gt;</code></p><p>åˆ›å»ºæœ¬åœ° tag æ ‡ç­¾ï¼š <code>git tag -a &lt;æ ‡ç­¾å&gt; -m &quot;&lt;æ ‡ç­¾å¤‡æ³¨ä¿¡æ¯&gt;&quot;</code></p><p>åˆ é™¤æœ¬åœ° tag æ ‡ç­¾ï¼š <code>git tag -d &lt;æ ‡ç­¾å&gt;</code></p><p>æ¨é€è¿œç¨‹ tag æ ‡ç­¾ï¼š <code>git push origin &lt;æ ‡ç­¾å&gt;</code></p><p>æ¨é€å…¨éƒ¨ tag æ ‡ç­¾ï¼š <code>git push origin -tags</code></p><p>åˆ é™¤è¿œç¨‹ tag æ ‡ç­¾ï¼š <code>git push origin :refs/tags/&lt;æ ‡ç­¾å&gt;</code></p><p><strong>æŸ¥çœ‹è¿œç¨‹æœºçŠ¶æ€</strong></p><blockquote><p>git remote ç”¨æ¥ç®¡ç†ï¼Œ fork çš„é¡¹ç›®ï¼Œä¸ä¸»é¡¹ç›®çš„æ›´æ–°æ“ä½œ</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git remote -v</span><br><span class="line">git remote add upstream git@github.com:XXX/XXX.git</span><br><span class="line">git fetch upstream</span><br><span class="line">git merge upstream/master</span><br><span class="line">git push</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨ä¸­çš„ä¸€äº›æŠ€å·§"><a href="#ä½¿ç”¨ä¸­çš„ä¸€äº›æŠ€å·§" class="headerlink" title="ä½¿ç”¨ä¸­çš„ä¸€äº›æŠ€å·§"></a>ä½¿ç”¨ä¸­çš„ä¸€äº›æŠ€å·§</h2><p><strong>å‘½ååˆ«å</strong><br>å¤æ‚å¹¶è¶…é•¿çš„å‘½ä»¤ï¼Œå¯ä»¥é€šè¿‡èµ·åˆ«åçš„æ–¹å¼æ–¹ä¾¿åœ¨ç»ˆç«¯ä¸­ä¹¦å</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --global alias.ci commit</span><br><span class="line">git config --global alias.ck checkout</span><br><span class="line">git config --global alias.st status</span><br></pre></td></tr></table></figure><p>ç„¶åå°±å¯ä»¥å¾ˆæ„‰å¿«çš„ä½¿ç”¨gitå‘½ä»¤äº†ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git st</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Git-å‘½ä»¤&quot;&gt;&lt;a href=&quot;#Git-å‘½ä»¤&quot; class=&quot;headerlink&quot; title=&quot;Git å‘½ä»¤&quot;&gt;&lt;/a&gt;Git å‘½ä»¤&lt;/h1&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:center&quot;&gt;ä¿®æ”¹è®°å½•&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;ä¿®æ”¹æ—¶é—´&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;å¤‡æ³¨&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;æ·»åŠ åˆ é™¤è¿œç¨‹åˆ†æ”¯&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;2018å¹´07æœˆ26æ—¥13:59:22&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;åˆ é™¤è¿œç¨‹åˆ†æ”¯å‘½ä»¤&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;æ›´æ–°forkä»“åº“&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;2018å¹´08æœˆ10æ—¥14:16:08&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;æ·»åŠ forkçš„ä»“åº“ï¼Œä»ä¸»ä»“åº“æ›´æ–°ä»£ç çš„å‘½ä»¤&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;æ•´ç†çš„è¿˜ä¸å¤Ÿå®Œå–„ï¼Œä»¥åå·¥ä½œä¸­é‡åˆ°äº†ä¼šä¸æ–­è¡¥è¿›ï¼Œå¦‚æœ‰å¤§ç¥ï¼Œæœ‰å¯ä»¥ç•™è¨€ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥å®Œå–„ã€‚æ¬¢è¿å„ä½ç•™è¨€^_^&lt;/p&gt;
    
    </summary>
    
    
      <category term="Git" scheme="http://xiaoman.ren/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>å¼€å‘ä¸€ä¸ªAndroid IoT App</title>
    <link href="http://xiaoman.ren/2019/04/16/%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AAAndroid-IoT-App/"/>
    <id>http://xiaoman.ren/2019/04/16/å¼€å‘ä¸€ä¸ªAndroid-IoT-App/</id>
    <published>2019-04-16T09:43:18.000Z</published>
    <updated>2019-04-17T13:54:19.361Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ„å»º-Android-IoT-App"><a href="#æ„å»º-Android-IoT-App" class="headerlink" title="æ„å»º Android IoT App"></a>æ„å»º Android IoT App</h1><p>æœ¬æ–‡ç¿»è¯‘è‡ª<a href="http://www.survivingwithandroid.com/2017/01/building-iot-app-android-things-android-iot-appplication-development.html" target="_blank" rel="noopener">Building IoT APP for Android Things in 3 step</a></p><a id="more"></a><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¿™ç¯‡æ–‡ç« ä¸»è¦æè¿°äº†ï¼Œå¦‚ä½•ä¸º Android Things æ„å»º Android IoT Appã€‚ ä¹Ÿè®¸ä½ æ—©å·²ç»çŸ¥é“äº†ï¼Œæœ€è¿‘ Google å‘å¸ƒäº†ä¸€ä¸ªæ–°çš„ IoT æ“ä½œç³»ç»Ÿâ€“ Android Thingsã€‚Android Things ç³»ç»Ÿï¼Œæ˜¯ç”± Android ç³»ç»Ÿè¡ç”Ÿå‡ºæ¥çš„ï¼Œæ›´æœ‰æ„æ€çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æˆ‘ä»¬çš„ Android çŸ¥è¯†æ¥å¼€å‘ Android IoT åº”ç”¨ç¨‹åºã€‚åœ¨å¼€å§‹ä¹‹å‰ï¼Œäº†è§£ <a href="http://www.survivingwithandroid.com/2017/01/android-things-android-internet-of-things.html" target="_blank" rel="noopener">Android Things and how it works</a> æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚</p><h2 id="åè¯ç´¢å¼•"><a href="#åè¯ç´¢å¼•" class="headerlink" title="åè¯ç´¢å¼•"></a>åè¯ç´¢å¼•</h2><p>Android IoT App ï¼š å®‰å“ç‰©è”ç½‘åº”ç”¨</p><p>Raspberry Pi 3 ï¼š æ ‘è“æ´¾ 3</p><h2 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h2><p>è¿™ç¯‡æ–‡ç« çš„ç›®æ ‡æ˜¯ï¼š</p><ol><li>ä½¿ç”¨ Android Things æ„å»ºä¸€ä¸ªç®€å•çš„ RGB Led æ§åˆ¶å™¨</li><li>ä½¿ç”¨ Android API æ„å»º Android IoT UI å¼€å‘</li></ol><p>æˆ‘ä»¬ä¼šä½¿ç”¨ <code>Raspberry Pi 3</code> ä½œä¸º <a href="http://www.survivingwithandroid.com/2016/08/iot-rapid-prototyping-board.html" target="_blank" rel="noopener">IoT å¼€å‘æ¿</a>,ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–çš„å¼€å‘æ¿å»å¼€å‘ Android Thingsã€‚</p><p>æ­¤Android IoTåº”ç”¨å¯å¸®åŠ©æ‚¨ç†Ÿæ‚‰æ–°çš„Android Things APIã€‚ æ­¤å¤–ï¼Œè¿™ä¸ªç‰©è”ç½‘åº”ç”¨ç¨‹åºå¯¹äºå¼€å‘Android IoT åº”ç”¨ UI çš„æ¦‚è¿°å¾ˆæœ‰ç”¨ã€‚</p><h2 id="æ­¥éª¤ä¸€"><a href="#æ­¥éª¤ä¸€" class="headerlink" title="æ­¥éª¤ä¸€"></a>æ­¥éª¤ä¸€</h2><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸€ä¸ª IoT å·¥ç¨‹æœ‰ä¸¤éƒ¨åˆ†ï¼Œ ç”µæ°”/ç”µå­éƒ¨åˆ†å’Œè½¯ä»¶éƒ¨åˆ†ã€‚è®©äº‹æƒ…å˜å¾—ç®€å•ï¼Œä½¿æˆ‘ä»¬å¯ä»¥é›†ä¸­ç²¾åŠ›åœ¨Android IoT App, è¿™ä¸ª IoT åº”ç”¨æ§åˆ¶ç€ä¸€ä¸ªç®€å•çš„ RGB LED ï¼ˆå…±é˜³æï¼‰ç¯ã€‚RGB Led ç¯ä½¿ç”¨220Î©ç”µé˜»é“¾æ¥åˆ° <code>Raspberry</code>ï¼Œ æ¯ä¸ªé¢œè‰²ä¸€ä¸ªï¼ŒåŸç†å›¾å¦‚ä¸‹ï¼š</p><p><img src="http://upload-images.jianshu.io/upload_images/1550996-ce68329a358d9cb1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å¼•è„šåŸç†å›¾"> </p><p>å…±é˜³æ RGB LED ç¯éå¸¸å¸¸è§ï¼Œå› æ­¤ <code>Raspberry Pi 3</code> ä¸ºå¼•è„šé˜³æä¾›ç”µã€‚æ§åˆ¶ LED é¢œè‰²çš„ RGB å¼•è„šè¿æ¥åˆ° <code>Raspberry</code> å¼•è„šï¼š</p><ul><li>Pin 29</li><li>Pin 31</li><li>Pin 33</li></ul><p>è¿™äº›å¼•è„šç´¢å¼•æ˜¯éå¸¸é‡è¦çš„ï¼Œå› ä¸ºæˆ‘ä»¬ä¼šåœ¨ Android IoT App ä¸Šä½¿ç”¨å®ƒã€‚ ä¸Šç”µå‰ï¼Œè¯·ä»”ç»†æ£€æŸ¥ Raspberry é“¾æ¥æ˜¯å¦æœ‰å¼‚å¸¸ã€‚</p><p>ç°åœ¨ï¼Œæˆ‘ä»¬ä½¿ç”¨  <code>Android Studio</code> åˆ›å»ºä¸€ä¸ª IoT åº”ç”¨ï¼Œç¬¬ä¸€æ­¥ï¼Œé…ç½® Android IoT å·¥ç¨‹ï¼Œ build.gradle :</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    provided &apos;com.google.android.things:androidthings:0.1-devpreview&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Android Things ä½¿ç”¨ Activity ï¼Œå°±åƒæˆ‘ä»¬åœ¨ Android ä¸­ä½¿ç”¨ä¸€æ ·ã€‚å› æ­¤ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª <code>RGBThingsActivity</code> ç±»ï¼Œå¹¶åœ¨ <code>onCreate</code> æ–¹æ³•ä¸­å¤„ç† <code>Pin</code> é€šä¿¡ã€‚</p><h2 id="æ­¥éª¤äºŒ"><a href="#æ­¥éª¤äºŒ" class="headerlink" title="æ­¥éª¤äºŒ"></a>æ­¥éª¤äºŒ</h2><p>ä½¿ç”¨ <code>GPIO</code> å¼•è„šä¸ RGB LED ä¼ é€’ä¿¡æ¯ã€‚ <code>GPIO</code> å¼•è„šä½¿ç”¨å¯ç¼–ç¨‹çš„æ¥å£å»è·å–è®¾å¤‡çš„çŠ¶æ€æˆ–è€…è®¾ç½®è¾“å‡ºå€¼ï¼ˆé«˜ç”µå¹³/ä½ç”µå¹³ï¼‰ï¼Œä½¿ç”¨ Respberry GPIO éŸ³åŠå“¦å•Šï¼Œæˆ‘ä»¬å¼€å¯æˆ–å…³é—­ä¸‰ä¸ªé¢œè‰²çš„ç»„ä»¶ï¼ˆçº¢ç»¿è“ï¼‰ã€‚</p><p>Android Things SDK æä¾›äº†ä¸€ä¸ª <code>PeripheralManagerService</code> çš„æœåŠ¡ï¼Œå»æŠ½è±¡ GPIO é€šä¿¡æ¥å£ã€‚æ¯å½“æˆ‘ä»¬æƒ³è¯»å†™æ•°æ®æ—¶éƒ½å¿…é¡»ä½¿ç”¨å®ƒã€‚ä¸€å¼€å§‹ï¼Œ Android IoT App åˆå§‹åŒ–æœåŠ¡ï¼Œå¹¶è®¾ç½®å¼•è„šå€¼ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">try &#123;</span><br><span class="line">   PeripheralManagerService manager = new PeripheralManagerService();</span><br><span class="line">   blueIO = manager.openGpio(&quot;BCM5&quot;);</span><br><span class="line">   blueIO.setDirection(Gpio.DIRECTION_OUT_INITIALLY_LOW);</span><br><span class="line">   greenIO = manager.openGpio(&quot;BCM6&quot;);</span><br><span class="line">   greenIO.setDirection(Gpio.DIRECTION_OUT_INITIALLY_HIGH);</span><br><span class="line">   redIO = manager.openGpio(&quot;BCM13&quot;);</span><br><span class="line">   redIO.setDirection(Gpio.DIRECTION_OUT_INITIALLY_LOW);</span><br><span class="line">   redIO.setValue(false);</span><br><span class="line">   blueIO.setValue(false);</span><br><span class="line">   greenIO.setValue(false);</span><br><span class="line">&#125; catch (IOException e) &#123;</span><br><span class="line">   Log.w(TAG, &quot;Unable to access GPIO&quot;, e);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç ä»‹ç»äº†ä¸€äº›æ–°çš„é‡è¦çš„æ–°æ–¹é¢ã€‚é¦–å…ˆ,æˆ‘ä»¬å¿…é¡»é€‰å¯¹å¼•è„šã€‚å¦‚æœä½¿ç”¨çš„æ˜¯ Respberry ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“æ¯ä¸€ä¸ªå¼•è„šéƒ½æœ‰å¯¹åº”çš„åºå·ã€‚åŒæ ·çš„æ–¹å¼ï¼ŒAndroid Things ä½¿ç”¨ç›¸åŒçš„å¯»å€æ¨¡å‹ï¼Œä¸ç®¡æ€æ ·ï¼Œå¼•è„šçš„å‘½åéƒ½æ˜¯ç”¨ä¸åŒçš„æ–¹å¼ã€‚é€šè¿‡ <a href="https://developer.android.com/things/hardware/raspberrypi-io.html" target="_blank" rel="noopener">Respberry Pin reference</a> ,ä¸‹å›¾ï¼š</p><p><img src="http://upload-images.jianshu.io/upload_images/1550996-0957d79bc802bd94?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ ‘è“æ´¾å¼•è„šå›¾"></p><p>å¯ä»¥äº†è§£åˆ° <code>Respberry Pi 3</code> çš„å¼•è„šåœ°å€ã€‚è¿™äº›åœ°å€åç§°åœ¨ä¸Šé¢çš„ä»£ç ä¸­ä½¿ç”¨ã€‚ ä¾‹å¦‚ï¼Œè¦ä½¿ç”¨å¼•è„šBCM5ï¼ˆæˆ–å¼•è„š29ï¼‰ï¼Œä»£ç ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">blueIO = manager.openGpio(&quot;BCM5&quot;);</span><br></pre></td></tr></table></figure><p>å¼€å§‹ï¼Œ æˆ‘ä»¬è®¾ç½®æ‰€æœ‰çš„å¼•è„šä¸ºä½ç”µå¹³çŠ¶æ€ï¼ˆä½ç”µå¹³å³ä¸ºå…³é—­çŠ¶æ€ï¼‰ï¼Œæ­¤æ—¶ Led ç¯ä¸ºå…³é—­çŠ¶æ€ã€‚æ”¹å˜å¼•è„šçš„çŠ¶æ€å€¼ï¼Œç”±ä½ç”µå¹³è°ƒæ•´åˆ°é«˜ç”µå¹³ï¼Œæˆ–è€…æœ‰é«˜ç”µå¹³è°ƒæ•´ä¸ºä½ç”µå¹³ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç¯çš„é¢œè‰²å˜åŒ–ã€‚</p><h2 id="æ­¥éª¤ä¸‰"><a href="#æ­¥éª¤ä¸‰" class="headerlink" title="æ­¥éª¤ä¸‰"></a>æ­¥éª¤ä¸‰</h2><p>Android Things å¦å¤–ä¸€ä¸ªæœ‰è¶£çš„åŠŸèƒ½æ˜¯ï¼Œä¸ºæˆ‘ä»¬æä¾›äº† UI Interfaceã€‚ æˆ‘ä»¬å¼€å‘ä¸€ä¸ª UI Interface ç»™ Android IoT App å’Œå¼€å‘ Android UI ä¸€æ ·ã€‚å°±åƒ Android app ä¸€æ ·ï¼Œ Android Things UI åŒæ ·æ˜¯ä½¿ç”¨ xml æ ¼å¼å¼€å‘ã€‚ ä¸‹é¢ä¾‹å­ï¼Œæˆ‘ä»¬å»é…ç½®æ§åˆ¶ RGB Led æ˜¾ç¤ºçš„ 3 ä¸ªå¼€å…³ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">  &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">            android:orientation=&quot;vertical&quot;</span><br><span class="line">            android:layout_width=&quot;match_parent&quot;</span><br><span class="line">            android:layout_height=&quot;match_parent&quot;&gt;</span><br><span class="line"> </span><br><span class="line"> &lt;Switch android:text=&quot;Red&quot;</span><br><span class="line">         android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">         android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">         android:id=&quot;@+id/switchRed&quot;</span><br><span class="line">         android:layout_marginTop=&quot;20dp&quot;/&gt;</span><br><span class="line"> </span><br><span class="line"> &lt;Switch android:text=&quot;Green&quot;</span><br><span class="line">        android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:id=&quot;@+id/switchGreen&quot;</span><br><span class="line">        android:layout_marginTop=&quot;20dp&quot;/&gt;</span><br><span class="line"> </span><br><span class="line"> &lt;Switch android:text=&quot;Blue&quot;</span><br><span class="line">         android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">         android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">         android:id=&quot;@+id/switchBlue&quot;</span><br><span class="line">         android:layout_marginTop=&quot;20dp&quot;/&gt;</span><br><span class="line"> </span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre></td></tr></table></figure><p>åœ¨ <code>onCreate</code> æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬è®¾ç½® layout å¸ƒå±€ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@Override</span><br><span class="line">public void onCreate (Bundle savedInstanceState) &#123;</span><br><span class="line">    super.onCreate(saveInstanceState);</span><br><span class="line">    setContentView(R.layout.activity_main);</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¤„ç†ç”¨æˆ·å¼€å…³ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Switch switchRed = (Switch)findViewById(R.id.switchRed);</span><br><span class="line">switch.setOnCheckedChangedListener(new CompoundButton.OnCheckedChangedListener()&#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void onCheckedChanged (CompoundButton buttonView, boolean isChecked)&#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            redIO.setValue(!isChecked);</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            Log.w(TAG,&quot;Red GPIO Error&quot;, e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¿…é¡»ä¸ºå…¶ä»–å¼•è„šé‡å¤åŒä¸€æ®µä»£ç ã€‚æœ€ç»ˆç»“æœå¦‚ä¸‹ï¼š</p><p>å›  MarkDown æ¨¡å¼ä¸‹ï¼Œ ç®€ä¹¦ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ï¼Œè¯·ç‚¹å‡»ä¸€ä¸‹é“¾æ¥è§‚çœ‹ã€‚</p><p><a href="https://www.youtube.com/embed/KT_FAqMbbNQ" target="_blank" rel="noopener">æœ€ç»ˆç»“æœå±•ç¤ºâ€“éœ€è¦ç¿»å¢™ youtube ä¸Šè§‚çœ‹</a></p><iframe width="560" height="315" src="https://www.youtube.com/embed/KT_FAqMbbNQ" frameborder="0" allowfullscreen></iframe><p>æœ€åï¼Œè¦ä½¿ç”¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬å¿…é¡»åœ¨ <code>Manifest.xml</code> æ–‡ä»¶ä¸­æ¡ä»¶ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;uses-library android:name=&quot;com.google.android.things&quot;/&gt;</span><br></pre></td></tr></table></figure><p>å¹¶ä¸”å£°æ˜æˆ‘çš„ <code>Activity</code> æ˜¯ä¸€ä¸ª IoT Activityï¼Œ å¯åŠ¨è„šæœ¬ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;intent-filter&gt;</span><br><span class="line">    &lt;category android:name=&quot;android.intent.category.IOT_LAUNCHER&quot;/&gt;</span><br><span class="line">    &lt;category android:name=&quot;android.intent.category.DEFAULTâ€/&gt;</span><br><span class="line">&lt;/intent-filter&gt;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æ–‡ç« æœ€åï¼Œä½ å·²ç»çŸ¥é“äº†å¦‚ä½•æ›´å¥½çš„ä½¿ç”¨ Android Thingsã€‚ æœ‰è¶£çš„æ˜¯ï¼Œä½¿ç”¨ä¸€äº›æ–°çš„ API Android å¼€å‘äººå‘˜å¯ä»¥å‡†å¤‡ä¸‹ä¸€æ¬¡æŠ€æœ¯é©å‘½æˆä¸ºç‰©è”ç½‘ã€‚æ­¤å¤–ï¼Œå¼€å‘è¿‡ç¨‹ä¸ Android åº”ç”¨ç¨‹åºç›¸åŒã€‚</p><p>ä½¿ç”¨ç®€å•çš„å‡ è¡Œä»£ç ï¼Œä¸€ä¸ª Android å¼€å‘è€…å°±å¯ä»¥æ„å»º Android IoT App.</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;æ„å»º-Android-IoT-App&quot;&gt;&lt;a href=&quot;#æ„å»º-Android-IoT-App&quot; class=&quot;headerlink&quot; title=&quot;æ„å»º Android IoT App&quot;&gt;&lt;/a&gt;æ„å»º Android IoT App&lt;/h1&gt;&lt;p&gt;æœ¬æ–‡ç¿»è¯‘è‡ª&lt;a href=&quot;http://www.survivingwithandroid.com/2017/01/building-iot-app-android-things-android-iot-appplication-development.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Building IoT APP for Android Things in 3 step&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="Android Things" scheme="http://xiaoman.ren/tags/Android-Things/"/>
    
  </entry>
  
  <entry>
    <title>Jenkins + gradle + git æ„å»º Android CI æ„å»ºç¯å¢ƒ</title>
    <link href="http://xiaoman.ren/2019/04/16/Jenkins-gradle-git-%E6%9E%84%E5%BB%BA-Android-CI-%E6%9E%84%E5%BB%BA%E7%8E%AF%E5%A2%83/"/>
    <id>http://xiaoman.ren/2019/04/16/Jenkins-gradle-git-æ„å»º-Android-CI-æ„å»ºç¯å¢ƒ/</id>
    <published>2019-04-16T09:42:05.000Z</published>
    <updated>2019-04-17T13:55:47.632Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å°†æœ€æ–°çš„ä»£ç æ›´æ–°ï¼Œæä¾›ç»™æµ‹è¯•äººå‘˜è¿›è¡Œæµ‹è¯•ï¼Œä»¥åŠå‘å¸ƒã€‚</p><p>ç›®å‰ Android å·¥ä½œä¸­éƒ½åœ¨ä½¿ç”¨å¾ˆå¼ºå¤§çš„å¼€å‘ã€æ„å»ºä»¥åŠæ‰“åŒ…å·¥å…·ï¼Œä¾‹å¦‚ï¼š android-studioã€Gradleã€Gitç­‰ã€‚</p><p>ç„¶ï¼Œåœ¨ä¼ä¸šç»„ç»‡å¹¶ä¸æ˜¯å¾ˆå®Œå–„çš„å…¬å¸é‡Œï¼Œå¼€å‘æ‰“åŒ…å‘å¸ƒç­‰å·¥ä½œï¼Œæ—¶å¸¸ä¼šç”±å¼€å‘äººå‘˜è¿›è¡Œæ“ä½œï¼Œéš¾å…åœ¨ä¸€äº›åœ°æ–¹ç–å¿½æ‰ã€‚</p><p>å› æ­¤ï¼ŒCI æ„å»ºçš„å‡ºç°ï¼Œä½¿å¾—è¿™äº›ç¹ççš„å·¥ä½œå˜å¾—è½»æ¾èµ·æ¥ã€‚</p><p>å¯¹äºå¼€å‘å·¥ç¨‹å¸ˆï¼Œåªè´Ÿè´£å‘ç‰ˆæœ¬åº“æäº¤ä»£ç ï¼Œä¸ç”¨å…³å¿ƒæ‰“åŒ…ï¼Œå‘å¸ƒä¹‹ç±»çš„æµç¨‹ã€‚</p><p>å¯¹äºäº§å“å’Œæµ‹è¯•ï¼Œåªéœ€è¦ä»å‘å¸ƒé¡µé¢ä¸‹è½½ APK å®‰è£…æ–‡ä»¶ï¼Œä¸éœ€è¦æ¯ä¸€æ¬¡éƒ½å»å·¥ç¨‹å¸ˆå“ªé‡Œç´¢å–æœ€æ–°çš„å®‰è£…æ–‡ä»¶ã€‚</p><p>CI çš„åŸºæœ¬å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š<br><img src="http://upload-images.jianshu.io/upload_images/1550996-5101eac8d87352a6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å›¾1"></p><p>æˆ‘ä»¬æ¯ä¸€æ¬¡æäº¤ä»£ç ï¼ˆé€šè¿‡git/svnä½œä¸ºç‰ˆæœ¬åº“ï¼‰åˆ°ä¸»å¹²ä¸Šï¼Œæ ¹æ® CI çš„å®šæ—¶ä»»åŠ¡ï¼Œæ£€æµ‹åˆ°ç‰ˆæœ¬æ›´æ–°ï¼Œé€šè¿‡ CI ï¼Œå°†è¿›è¡Œæ‰“åŒ…å‘å¸ƒç­‰æµç¨‹æ“ä½œã€‚</p><a id="more"></a><h1 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h1><p>æœ¬æ–‡ä½¿ç”¨ Linux Ubuntu ç³»ç»Ÿä¸ºå¤§å®¶ä»‹ç»ç¯å¢ƒçš„æ­å»º</p><h2 id="ç¯å¢ƒå·¥å…·"><a href="#ç¯å¢ƒå·¥å…·" class="headerlink" title="ç¯å¢ƒå·¥å…·"></a>ç¯å¢ƒå·¥å…·</h2><pre><code>1. PC æœº(mac/linux)2. Java JDK3. Android SDK4. Gradle5. Git6. Tomcat7. Jenkins</code></pre><h2 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h2><h3 id="Java-ç¯å¢ƒ-å®‰è£…"><a href="#Java-ç¯å¢ƒ-å®‰è£…" class="headerlink" title="Java ç¯å¢ƒ å®‰è£…"></a>Java ç¯å¢ƒ å®‰è£…</h3><p>Java JDK, Android SDK, Gradle å¯ä»<a href="http://androiddevtools.cn" target="_blank" rel="noopener">AndroidDevTools</a>å¤„ä¸‹è½½è·å–ã€‚</p><h3 id="git-å®‰è£…"><a href="#git-å®‰è£…" class="headerlink" title="git å®‰è£…"></a>git å®‰è£…</h3><p>git å¯é€šè¿‡ç»ˆç«¯è¿›è¡Œå®‰è£…<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:git-core/ppa</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install git</span><br></pre></td></tr></table></figure></p><p>å®‰è£…å®Œæˆä¹‹åé€šè¿‡<code>git --version</code> æ£€æŸ¥æ˜¯å¦æˆåŠŸ</p><p>å®‰è£…å git å­˜å‚¨åœ¨ <code>/usr/bin/git</code>ä¸‹</p><h3 id="Jenkins"><a href="#Jenkins" class="headerlink" title="Jenkins"></a>Jenkins</h3><p>é€šè¿‡ Jenkins <a href="https://jenkins.io/index.html" target="_blank" rel="noopener">å®˜æ–¹ç½‘ç«™</a>ä¸‹è½½æœ€æ–°Jenkins.waråŒ…</p><p><img src="http://upload-images.jianshu.io/upload_images/1550996-d2654c0a1383423a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Jenkins ä¸‹è½½"></p><h3 id="ç¯å¢ƒå˜é‡"><a href="#ç¯å¢ƒå˜é‡" class="headerlink" title="ç¯å¢ƒå˜é‡"></a>ç¯å¢ƒå˜é‡</h3><p>æ‰“å¼€ <code>vi /etc/profile</code></p><p>å°†ä¸‹åˆ—è¯­å¥æ·»åŠ åœ¨æ–‡ä»¶çš„æœ«å°¾åï¼Œ æ‰§è¡Œ esc-&gt;:wq</p><p>å…¶ä¸­ç¯å¢ƒä½ç½®æ ¹æ®è‡ªå·±çš„æ‰€åœ¨ä½ç½®è¿›è¡Œç›¸åº”çš„æ›´æ”¹</p><p><img src="http://upload-images.jianshu.io/upload_images/1550996-ffd5f1b87d0e5bbe.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ç¯å¢ƒå˜é‡"></p><h3 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h3><p>æ¿€åŠ¨çš„ä½ ï¼Œæ˜¯ä¸æ˜¯å·²ç»è¢«è¿™äº›ç¹ççš„ä¸œè¥¿æçš„ä¸è€çƒ¦äº†å‘¢ï¼Œä¸‹é¢æˆ‘ä»¬å¼€å§‹å¯åŠ¨ Jenkins</p><p>å°†ä¸‹è½½å¥½çš„ Jenkins.war åŒ…ï¼Œ æ”¾å…¥ Tomcat çš„ webapps ç›®å½•ä¸‹ï¼Œè¿›å…¥ bin ç›®å½•æ‰§è¡Œ ./startup.sh å¯åŠ¨ Tomcatã€‚</p><p>å¯åŠ¨åï¼Œåœ¨æµè§ˆå™¨ä¸­è¾“å…¥ï¼š <code>localhost:8080/jenkins</code></p><p><img src="http://upload-images.jianshu.io/upload_images/1550996-cbdb39d4f2f4a85f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="jenkinsmain.png"></p><h3 id="æ’ä»¶å®‰è£…"><a href="#æ’ä»¶å®‰è£…" class="headerlink" title="æ’ä»¶å®‰è£…"></a>æ’ä»¶å®‰è£…</h3><p>ç³»ç»Ÿç®¡ç†-&gt; æ’ä»¶ç®¡ç†-&gt;å¯é€‰æ’ä»¶ï¼š</p><p>åœ¨æœç´¢æ¡†ä¸­æœç´¢ä»¥ä¸‹æ’ä»¶ï¼Œå¹¶è¿›è¡Œå®‰è£…</p><p>git plugin<br>gitlab plugin<br>grade plugin<br>Android Lint Plugin<br>Build Pipeline plugin<br>build timeout plugin<br>build name plugin<br>change assembly-version plugin<br>credentials binding plugin<br>description setter plugin<br>Dynamic parameter plugin<br>Email Extension plugin<br>FindBugs plugin<br>JaCoco plugin<br>Unit attachments plugin<br>Project Description plugin<br>Timestamper<br>Workspace cleanup plugin</p><p>å®‰è£…å®Œæˆåï¼Œé‡å¯ã€‚</p><h3 id="ç³»ç»Ÿè®¾ç½®"><a href="#ç³»ç»Ÿè®¾ç½®" class="headerlink" title="ç³»ç»Ÿè®¾ç½®"></a>ç³»ç»Ÿè®¾ç½®</h3><p>ç³»ç»Ÿç®¡ç†-&gt;ç³»ç»Ÿè®¾ç½®ï¼š</p><p>é…ç½®Android ç¯å¢ƒï¼Œå°†åœ°å€æŒ‡å‘æœ¬æœºçš„ SDK ç›®å½•<br><img src="http://upload-images.jianshu.io/upload_images/1550996-5987aabcffb290c3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Android environment"></p><p>ç³»ç»Ÿç®¡ç†-&gt;å…¨å±€å·¥å…·é…ç½®</p><p>é…ç½® Javaï¼Œ Git ï¼Œ Gradle ç›®å½•ç­‰</p><p>JDKï¼š</p><p><img src="http://upload-images.jianshu.io/upload_images/1550996-b9e29a1ec2b746e6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Java JDK"></p><p>Gitï¼š</p><p><img src="http://upload-images.jianshu.io/upload_images/1550996-9c4e88d64fcc2ab9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="git"></p><p>Gradleï¼š</p><p><img src="http://upload-images.jianshu.io/upload_images/1550996-9fbabc7d5c7ca319.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="gradle"></p><p>åˆ°æ­¤ï¼Œç¯å¢ƒé…ç½®ï¼Œå·²åŸºæœ¬å®Œæˆã€‚</p><p>ä¸‹é¢æˆ‘ä»¬å¼€å§‹è¿›è¡Œé¡¹ç›®å¤Ÿå°†æ“ä½œ</p><h2 id="é¡¹ç›®æ„å»º"><a href="#é¡¹ç›®æ„å»º" class="headerlink" title="é¡¹ç›®æ„å»º"></a>é¡¹ç›®æ„å»º</h2><h3 id="åˆ›å»ºJob"><a href="#åˆ›å»ºJob" class="headerlink" title="åˆ›å»ºJob"></a>åˆ›å»ºJob</h3><p>æ–°å»º-&gt;æ„å»ºä¸€ä¸ªè‡ªç”±é£æ ¼çš„è½¯ä»¶é¡¹ç›®:</p><p><img src="http://upload-images.jianshu.io/upload_images/1550996-2390d86256678c54.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="åˆ›å»ºCIå·¥ç¨‹"></p><h3 id="å‚æ•°åŒ–æ„å»º"><a href="#å‚æ•°åŒ–æ„å»º" class="headerlink" title="å‚æ•°åŒ–æ„å»º"></a>å‚æ•°åŒ–æ„å»º</h3><p>é€šå¸¸æˆ‘ä»¬åœ¨ä½¿ç”¨ Android-studio è¿›è¡Œæ‰“åŒ…æ—¶ä»¥åŠç­¾åæ—¶ï¼Œéƒ½ä¼šç”¨åˆ°build.gradleå¹¶åœ¨å…¶ä¸­é…ç½®ç›¸å…³å±æ€§ã€‚å†æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨Jenkinsï¼Œé…ç½®æˆ‘ä»¬çš„é¡¹ç›®å‚æ•°ï¼Œä¾‹å¦‚å‘å¸ƒçš„ç‰ˆæœ¬å·ï¼Œæ„å»ºæ—¶é—´ï¼Œ ä¸Šä¼ è·¯å¾„ï¼Œå‘å¸ƒåœ°å€ï¼Œç­¾åæ‰“åŒ…ç­‰ç­‰ã€‚</p><p>åœ¨è¿™é‡Œæˆ‘ä»¬å…ˆçœ‹çœ‹ build.gradle ä¸­çš„æ„å»ºä¿¡æ¯:</p><p>åœ¨é¡¹ç›®çš„ moudle ä¸‹ build.gradle æ–‡ä»¶<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">def getDate () &#123;</span><br><span class="line">    def date = new Date()</span><br><span class="line">    def formattedDate = date.format(&quot;yyyyMMddHHmm&quot;)</span><br><span class="line">    return formattedDate</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">def verName = APP_VERSION</span><br><span class="line">def verCode = 14</span><br><span class="line"></span><br><span class="line">android &#123;</span><br><span class="line">    ....</span><br><span class="line">    signingConfigs &#123;</span><br><span class="line">        release &#123;</span><br><span class="line">          keyAlias &apos;&apos;</span><br><span class="line">          keyPassword &apos;&apos;</span><br><span class="line">          storeFile file (&apos;&apos;)</span><br><span class="line">          storePassword &apos;&apos;</span><br><span class="line">       &#125;   </span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">  defaultConfig &#123;</span><br><span class="line">      applicationId &quot;cn.zhuangbudong.example&quot;</span><br><span class="line">      minSdkVersion 18</span><br><span class="line">      targetSdkVersion 25</span><br><span class="line">      multiDexEnabled true</span><br><span class="line">      versionCode verCode</span><br><span class="line">      versionName verName</span><br><span class="line"></span><br><span class="line">      resValues(&quot;string&quot;, &apos;app_version&apos;, verName)</span><br><span class="line">  &#125;</span><br><span class="line">  buildTypes &#123;</span><br><span class="line">    release &#123;</span><br><span class="line">      signingConfig signingConfigs.release</span><br><span class="line">      minifyEnabled false</span><br><span class="line">      proguardFiles getDefaultProguardFile(&apos;proguard-android.txt&apos;), &apos;proguard-rules.pro&apos;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   lintOptions &#123;</span><br><span class="line">    abortOnError false</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   dexOptions &#123;</span><br><span class="line">      javaMaxHeapSize &apos;2g&apos;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">applicationVariants.all &#123; variant -&gt;</span><br><span class="line">    variant.outputs.each &#123; output -&gt;</span><br><span class="line">        def newName</span><br><span class="line">        def timeNow</span><br><span class="line">        def oldFile = output.outputFile</span><br><span class="line">        def outDirectory = oldFile.parent</span><br><span class="line">        if (&quot;true&quot;.equals(IS_JENKINS)) &#123; </span><br><span class="line">            timeNow = JENKINS_TIME</span><br><span class="line">            outDirectory = &quot;/media/nexd/work/android/package/release/&quot;</span><br><span class="line">            newName = &apos;zhuangbudong_example_&apos; + verName + &quot;_&quot; + timeNow + &quot;_&quot; + variant.buildType.name + &quot;.apk&quot; </span><br><span class="line">       &#125; else &#123;</span><br><span class="line">            timeNow = getDate()</span><br><span class="line">            if (variant.buildType.name.equals(&apos;debug&apos;)) &#123; </span><br><span class="line">               newName = &apos;zhuangbudong_example_&apos; + verName + &quot;_debug.apk&quot;  </span><br><span class="line">          &#125; else &#123; </span><br><span class="line">               newName = &apos;zhuangbudong_example_&apos; + verName + &quot;_&quot; + timeNow + &quot;_&quot; + variant.buildType.name + &quot;.apk&quot; </span><br><span class="line">           &#125; </span><br><span class="line">       &#125; </span><br><span class="line">       output.outputFile = new File(outDirectory, newName)</span><br><span class="line">    &#125;&#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>gradle.properties:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">APP_VERSION=2.0.2</span><br><span class="line">IS_JENKINS=false</span><br><span class="line">JENKINS_TIME=&apos;&apos;</span><br></pre></td></tr></table></figure><p>åœ¨å·¥ç¨‹ä¸­æ·»åŠ ä»¥ä¸Šä»£ç ï¼Œå¹¶åœ¨Jenkinsä¸­ä¸ºè¿™äº›å‚æ•°èµ‹å€¼ã€‚</p><p>ä¸‹é¢ä»‹ç» Jenkins å‚æ•°é…ç½®</p><p>å‹¾é€‰å‚æ•°åŒ–æ„å»ºè¿‡ç¨‹ï¼Œå¦‚ä¸‹å›¾ï¼š<br><img src="http://upload-images.jianshu.io/upload_images/1550996-20f69e63a527814c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å‚æ•°åŒ–æ„å»º"></p><p>æŒ‰ç…§ä¸‹å›¾ï¼Œæ·»åŠ ç›¸å…³ç±»å‹çš„å‚æ•°ï¼Œæ­¤å¤„æ³¨æ„ï¼ŒJenkins é…ç½®çš„å‚æ•°åè¦å’Œåœ¨android-studioä¸­é…ç½®çš„å‚æ•°åä¿æŒä¸€è‡´</p><p><img src="http://upload-images.jianshu.io/upload_images/1550996-e0f4ceb7015ac0da.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="JENKINS_TIME"><br><img src="http://upload-images.jianshu.io/upload_images/1550996-6e3f8d0311399d74.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="APP_VERSION"><br><img src="http://upload-images.jianshu.io/upload_images/1550996-673c2465bcdc9a89.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="IS_JENKINS"><br><img src="http://upload-images.jianshu.io/upload_images/1550996-a82221191b980ad7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ENVIRONMENT"></p><h3 id="æºç ç®¡ç†"><a href="#æºç ç®¡ç†" class="headerlink" title="æºç ç®¡ç†"></a>æºç ç®¡ç†</h3><p>æ­¤å¤„è´Ÿè´£ä»ç‰ˆæœ¬åº“ä¸­æ‹‰å»æœ€æ–°çš„ä»£ç </p><p><img src="http://upload-images.jianshu.io/upload_images/1550996-6dcbd8dd2dd9456c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="git ä»“åº“"></p><p>æ­¤å¤„å¦‚æœéœ€è¦éªŒè¯ï¼Œç‚¹å‡» Addï¼Œ é€‰æ‹©ï¼š Username with password</p><p>åœ¨å¯¹åº”çª—å£è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ä¿¡æ¯<br><img src="http://upload-images.jianshu.io/upload_images/1550996-8af978712a010864.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ç”¨æˆ·èº«ä»½éªŒè¯"></p><p>ç‚¹å‡»æ·»åŠ ã€‚</p><p>ä½¿ç”¨ gitlab è¿›è¡Œæºç åº“ç®¡ç†ã€‚</p><h3 id="è§¦å‘å™¨"><a href="#è§¦å‘å™¨" class="headerlink" title="è§¦å‘å™¨"></a>è§¦å‘å™¨</h3><p>è§¦å‘å™¨è´Ÿè´£æ‹‰å–ä»£ç ï¼Œç¼–è¯‘ï¼Œæ‰“åŒ…ï¼Œå‘å¸ƒç­‰æ“ä½œã€‚é€šè¿‡è§¦å‘å™¨ï¼Œæ‰§è¡ŒJenkinsã€‚</p><p><img src="http://upload-images.jianshu.io/upload_images/1550996-beb6ff8faa9843f8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="è§¦å‘å™¨æ„å»º"></p><h3 id="æ„å»ºç¯å¢ƒ"><a href="#æ„å»ºç¯å¢ƒ" class="headerlink" title="æ„å»ºç¯å¢ƒ"></a>æ„å»ºç¯å¢ƒ</h3><p>æ­¤å¤„åªæ˜¯åœ¨Jenkinsåœ¨æ‰“åŒ…æ—¶ï¼Œé…ç½®ä»»åŠ¡åç§°å³å¯ã€‚å¦‚ä¸‹å›¾ï¼š</p><p><img src="http://upload-images.jianshu.io/upload_images/1550996-45b210c5df916dbe.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ„å»ºç¯å¢ƒ"></p><h3 id="æ„å»º"><a href="#æ„å»º" class="headerlink" title="æ„å»º"></a>æ„å»º</h3><p>è¿™é‡Œæ˜¯æœ€é‡è¦æ»´ï¼Œé…ç½®ä»¥ä¸‹å‘½ä»¤ï¼Œæ‰èƒ½è¿›è¡Œæ‰“åŒ…ç­¾åç­‰ç­‰ã€‚</p><p>å¦‚ä¸‹é…ç½®ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„ä¸‹ï¼Œæ„å»ºæ–‡ä»¶ï¼Œæ ¹ç›®å½•ã€‚åœ¨ä½ çš„ç›®å½•ç»“æ„æ¯”è¾ƒå¤æ‚çš„æ—¶å€™ï¼Œå³ä½ çš„æ ¹ç›®å½•æ²¡æœ‰ build.gradle æ–‡ä»¶æ—¶ï¼Œéœ€è¦æŒ‡å®šä¸€ä¸‹ build.gradle ç›®å½•çš„ä½ç½®ã€‚</p><p>åŒæ—¶ï¼Œä¹Ÿæ˜¯æœ€é‡è¦çš„ï¼Œå‹¾é€‰ä¸Špass job parameters as gradle properties ï¼Œä¸ç„¶ä¹‹å‰é…ç½®çš„å‚æ•°æ— æ³•ä¼ é€’ç»™é¡¹ç›®ä¸­çš„ gradle.propertiesã€‚</p><p><img src="http://upload-images.jianshu.io/upload_images/1550996-4e4e6e139fc1e856.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ„å»º"></p><h3 id="æ„å»ºåæ“ä½œ"><a href="#æ„å»ºåæ“ä½œ" class="headerlink" title="æ„å»ºåæ“ä½œ"></a>æ„å»ºåæ“ä½œ</h3><p>å½“é¡¹ç›®æ„å»ºå®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é‚®ä»¶çš„æ–¹å¼å°†äº§ç”Ÿçš„Apkæ–‡ä»¶ï¼Œä»¥åŠæµ‹è¯•æŠ¥å‘Šï¼Œæ„å»ºæ—¥å¿—ç­‰ä¿¡æ¯ï¼Œå‘é€å‡ºæ¥ å¦‚ä¸‹å›¾ï¼š</p><p><img src="http://upload-images.jianshu.io/upload_images/1550996-63b6bcb7b2dfd551.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="é‚®ä»¶å‘é€"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;hr/&gt;</span><br><span class="line">(æœ¬é‚®ä»¶æ˜¯ç¨‹åºè‡ªåŠ¨ä¸‹å‘çš„ï¼Œè¯·å‹¿å›å¤ï¼)&lt;br/&gt;&lt;hr/&gt;</span><br><span class="line">é¡¹ç›®åç§°ï¼š$&#123;PROJECT_NAME&#125;&lt;br/&gt;&lt;hr/&gt;</span><br><span class="line">æ„å»ºç¼–å·ï¼š$&#123;BUILD_NUMBER&#125;&lt;br/&gt;&lt;hr/&gt;</span><br><span class="line">æ„å»ºçŠ¶æ€ï¼š$&#123;BUILD_STATUS&#125;&lt;br/&gt;&lt;hr/&gt;</span><br><span class="line">è§¦å‘åŸå› ï¼š$&#123;CAUSE&#125;&lt;br/&gt;&lt;hr/&gt;</span><br><span class="line">æµ‹è¯•æŠ¥å‘Šï¼š&lt;a href=&quot;$&#123;PROJECT_URL&#125;ws/$&#123;PROJECT_NAME&#125;app/build/reports/tests/release/index.html&quot;&gt;$&#123;PROJECT_URL&#125;ws/$&#123;PROJECT_NAME&#125;app/build/reports/tests/release/index.html&lt;/a&gt;&lt;br/&gt;&lt;hr/&gt;</span><br><span class="line">æ„å»ºæ—¥å¿—åœ°å€ï¼š&lt;a href=&quot;$&#123;BUILD_URL&#125;console&quot;&gt;$&#123;BUILD_URL&#125;console/&lt;/a&gt;&lt;br/&gt;&lt;hr/&gt;</span><br><span class="line">æ„å»ºåœ°å€ï¼š&lt;a href=&quot;$&#123;PROJECT_URL&#125;&quot;&gt;$&#123;PROJECT_URL&#125;&lt;/a&gt;&lt;br/&gt;&lt;hr/&gt;</span><br><span class="line">æ„å»ºæŠ¥å‘Šï¼š&lt;a href=&quot;$&#123;BUILD_URL&#125;testReport&quot;&gt;$&#123;BUILD_URL&#125;testReport&lt;/a&gt;&lt;br/&gt;&lt;hr/&gt;</span><br><span class="line">å˜æ›´é›†:$&#123;JELLY_SCRIPT,template=&quot;html&quot;&#125;&lt;br/&gt;</span><br><span class="line"></span><br><span class="line">&lt;hr/&gt;</span><br></pre></td></tr></table></figure><h2 id="å¼€å§‹æ„å»º"><a href="#å¼€å§‹æ„å»º" class="headerlink" title="å¼€å§‹æ„å»º"></a>å¼€å§‹æ„å»º</h2><p>å›åˆ° Jenkins é¦–é¡µï¼Œç‚¹å‡»åˆ›å»ºçš„é¡¹ç›®ï¼Œç‚¹å‡» build with parameters:</p><p><img src="http://upload-images.jianshu.io/upload_images/1550996-58ecc4965ab845ed.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Build with Parameters"></p><p>ç‚¹å‡»å¼€å§‹æ„å»ºï¼Œå¯åŠ¨ Jenkins æ„å»ºä»»åŠ¡ã€‚</p><p>æ„å»ºæˆåŠŸæ—¶ï¼Œæ˜¾ç¤ºä¸ºè“è‰²ï¼Œ å¤±è´¥ä¸ºçº¢è‰²ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="http://upload-images.jianshu.io/upload_images/1550996-4b2fc4b1190ddcd0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ„å»ºç»“æœ"></p><p>æ„å»ºåç”Ÿæˆçš„ Apk æ–‡ä»¶ï¼Œå­˜åœ¨ build.gradle æ–‡ä»¶ä¸­é…ç½®çš„ç›®å½•ã€‚åŒæ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨è’²å…¬è‹±æˆ–fir.im è¿›è¡Œå‘å¸ƒç®¡ç†ã€‚</p><p>è°¢è°¢~</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h1&gt;&lt;p&gt;åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å°†æœ€æ–°çš„ä»£ç æ›´æ–°ï¼Œæä¾›ç»™æµ‹è¯•äººå‘˜è¿›è¡Œæµ‹è¯•ï¼Œä»¥åŠå‘å¸ƒã€‚&lt;/p&gt;
&lt;p&gt;ç›®å‰ Android å·¥ä½œä¸­éƒ½åœ¨ä½¿ç”¨å¾ˆå¼ºå¤§çš„å¼€å‘ã€æ„å»ºä»¥åŠæ‰“åŒ…å·¥å…·ï¼Œä¾‹å¦‚ï¼š android-studioã€Gradleã€Gitç­‰ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶ï¼Œåœ¨ä¼ä¸šç»„ç»‡å¹¶ä¸æ˜¯å¾ˆå®Œå–„çš„å…¬å¸é‡Œï¼Œå¼€å‘æ‰“åŒ…å‘å¸ƒç­‰å·¥ä½œï¼Œæ—¶å¸¸ä¼šç”±å¼€å‘äººå‘˜è¿›è¡Œæ“ä½œï¼Œéš¾å…åœ¨ä¸€äº›åœ°æ–¹ç–å¿½æ‰ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼ŒCI æ„å»ºçš„å‡ºç°ï¼Œä½¿å¾—è¿™äº›ç¹ççš„å·¥ä½œå˜å¾—è½»æ¾èµ·æ¥ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºå¼€å‘å·¥ç¨‹å¸ˆï¼Œåªè´Ÿè´£å‘ç‰ˆæœ¬åº“æäº¤ä»£ç ï¼Œä¸ç”¨å…³å¿ƒæ‰“åŒ…ï¼Œå‘å¸ƒä¹‹ç±»çš„æµç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºäº§å“å’Œæµ‹è¯•ï¼Œåªéœ€è¦ä»å‘å¸ƒé¡µé¢ä¸‹è½½ APK å®‰è£…æ–‡ä»¶ï¼Œä¸éœ€è¦æ¯ä¸€æ¬¡éƒ½å»å·¥ç¨‹å¸ˆå“ªé‡Œç´¢å–æœ€æ–°çš„å®‰è£…æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;CI çš„åŸºæœ¬å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š&lt;br&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1550996-5101eac8d87352a6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;å›¾1&quot;&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æ¯ä¸€æ¬¡æäº¤ä»£ç ï¼ˆé€šè¿‡git/svnä½œä¸ºç‰ˆæœ¬åº“ï¼‰åˆ°ä¸»å¹²ä¸Šï¼Œæ ¹æ® CI çš„å®šæ—¶ä»»åŠ¡ï¼Œæ£€æµ‹åˆ°ç‰ˆæœ¬æ›´æ–°ï¼Œé€šè¿‡ CI ï¼Œå°†è¿›è¡Œæ‰“åŒ…å‘å¸ƒç­‰æµç¨‹æ“ä½œã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Android" scheme="http://xiaoman.ren/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>adb command</title>
    <link href="http://xiaoman.ren/2019/04/16/adb-command/"/>
    <id>http://xiaoman.ren/2019/04/16/adb-command/</id>
    <published>2019-04-16T09:38:08.000Z</published>
    <updated>2019-06-22T15:51:23.600Z</updated>
    
    <content type="html"><![CDATA[<ol><li><p>æŸ¥çœ‹PID</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell ps</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹æ—¥å¿—</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">å…¨éƒ¨æ—¥å¿—</span><br><span class="line">adb logcat</span><br><span class="line"></span><br><span class="line">æŒ‰ç…§ PID ç­›é€‰æ—¥å¿—</span><br><span class="line">adb logcat | grep &lt;PID&gt;</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥è¯¢é“¾æ¥è®¾å¤‡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb devices</span><br></pre></td></tr></table></figure></li></ol><a id="more"></a><ol start="4"><li><p>é‡å¯æœºå™¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb reboot</span><br></pre></td></tr></table></figure></li><li><p>æ€æ­»è¿›ç¨‹æœåŠ¡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb kill-server</span><br></pre></td></tr></table></figure></li><li><p>é‡å¯è¿›ç¨‹æœåŠ¡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb start-server</span><br></pre></td></tr></table></figure></li><li><p>è·å–æœºå™¨ Mac åœ°å€</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell cat /sys/class/net/wlan0/address</span><br></pre></td></tr></table></figure></li><li><p>å®‰è£… APK</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">æ™®é€šå®‰è£…</span><br><span class="line">adb install &lt;file path&gt;</span><br><span class="line"></span><br><span class="line">ä¿ç•™æ•°æ®å’Œç¼“å­˜æ–‡ä»¶</span><br><span class="line">adb install -r &lt;file path&gt;</span><br><span class="line"></span><br><span class="line">å®‰è£…åˆ° SD å¡ä¸Š</span><br><span class="line">adb install -s &lt;file path&gt;</span><br></pre></td></tr></table></figure></li><li><p>å¸è½½ APK</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">æ™®é€šå¸è½½</span><br><span class="line">adb uninstall &lt;package name&gt;</span><br><span class="line"></span><br><span class="line">ä¿ç•™æ•°æ®å’Œç¼“å­˜æ–‡ä»¶</span><br><span class="line">adb uninstall -k &lt;package name&gt;</span><br></pre></td></tr></table></figure></li><li><p>å¯åŠ¨åº”ç”¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell am start -n &lt;package name&gt;/.&lt;activity_class_name&gt;</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹ CPU å ç”¨ç‡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">adb shell top</span><br><span class="line"></span><br><span class="line">æŸ¥çœ‹å†…å­˜å ç”¨å‰ 6 çš„ app</span><br><span class="line">adb shell top -m 6</span><br><span class="line"></span><br><span class="line">åˆ·æ–°ä¸€æ¬¡å†…å­˜</span><br><span class="line">adb shell top -n 1</span><br></pre></td></tr></table></figure></li><li><p>æ€æ­»è¿›ç¨‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell kill &lt;pid&gt;</span><br></pre></td></tr></table></figure></li><li><p>å°† System åˆ†åŒºé‡æ–°æŒ‚åœ¨ä¸ºå¯è¯»å†™åˆ†åŒº</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb remount</span><br></pre></td></tr></table></figure></li><li><p>ä»æœ¬åœ°å¤åˆ¶æ–‡ä»¶åˆ°è®¾å¤‡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb push &lt;local&gt; &lt;remote&gt;</span><br></pre></td></tr></table></figure></li><li><p>ä»è®¾å¤‡å¤åˆ¶æ–‡ä»¶åˆ°æœ¬åœ°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb pull &lt;remote&gt; &lt;local&gt;</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹ WiFi å¯†ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell cat /data/misc/wifi/*.conf</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹ bug æŠ¥å‘Š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb bugreport</span><br></pre></td></tr></table></figure></li><li><p>è·‘ monkey</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell monkey -v -p your.package.name 500</span><br></pre></td></tr></table></figure></li><li><p>æˆªå›¾</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell screencap -p /sdcard/screenshot.png</span><br></pre></td></tr></table></figure></li><li><p>å½•å±</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell screenrecord /sdcard/demo.mp4</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹å®‰è£…åˆ—è¡¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell pm list packages</span><br></pre></td></tr></table></figure></li><li><p>å®‰è£…è¯ä¹¦</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell am start -n com.android.certinstaller/.CertInstallerMain -a android.intent.action.VIEW -t application/x-x509-ca-cert file:///sdcard/cacert.cer</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;&lt;p&gt;æŸ¥çœ‹PID&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;adb shell ps&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æŸ¥çœ‹æ—¥å¿—&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;å…¨éƒ¨æ—¥å¿—&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;adb logcat&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;æŒ‰ç…§ PID ç­›é€‰æ—¥å¿—&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;adb logcat | grep &amp;lt;PID&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æŸ¥è¯¢é“¾æ¥è®¾å¤‡&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;adb devices&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="Android" scheme="http://xiaoman.ren/tags/Android/"/>
    
  </entry>
  
</feed>
